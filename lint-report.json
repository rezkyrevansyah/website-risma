[{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\eslint.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\next.config.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\postcss.config.mjs","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\actions\\articles.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":42,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":42,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1194,1197],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1194,1197],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server'\r\n\r\nimport { createClient } from '@/lib/supabase/server'\r\nimport { ArticleItem } from '@/types'\r\nimport { revalidatePath } from 'next/cache'\r\nimport { z } from 'zod'\r\n\r\nconst articleSchema = z.object({\r\n  title: z.string().min(1, \"Judul wajib diisi\"),\r\n  excerpt: z.string().min(1, \"Ringkasan wajib diisi\"),\r\n  content: z.string().min(1, \"Konten wajib diisi\"),\r\n  category: z.string().min(1, \"Kategori wajib diisi\"),\r\n  date: z.string().min(1, \"Tanggal wajib diisi\"),\r\n  readingTime: z.string().min(1, \"Waktu baca wajib diisi\"),\r\n  imageUrl: z.string().min(1, \"Gambar wajib diisi\"),\r\n  author: z.object({\r\n    name: z.string().min(1),\r\n    role: z.string().min(1),\r\n    avatarUrl: z.string().default(''),\r\n  })\r\n})\r\n\r\nexport async function getArticles(limit?: number) {\r\n  const supabase = await createClient()\r\n  let query = supabase\r\n    .from('articles')\r\n    .select('*')\r\n    .order('date', { ascending: false })\r\n\r\n  if (limit) {\r\n    query = query.limit(limit)\r\n  }\r\n\r\n  const { data, error } = await query\r\n\r\n  if (error) {\r\n    console.error('Error fetching articles:', error)\r\n    return []\r\n  }\r\n\r\n  // Map DB columns to ArticleItem (camelCase)\r\n  return data.map((item: any) => ({\r\n    id: item.id,\r\n    title: item.title,\r\n    excerpt: item.excerpt,\r\n    content: item.content,\r\n    category: item.category,\r\n    date: item.date,\r\n    readingTime: item.reading_time,\r\n    imageUrl: item.image_url,\r\n    author: {\r\n      name: item.author_name,\r\n      role: item.author_role,\r\n      avatarUrl: item.author_avatar_url || '',\r\n    },\r\n  })) as ArticleItem[]\r\n}\r\n\r\nexport async function getArticleById(id: string) {\r\n  const supabase = await createClient()\r\n  const { data, error } = await supabase\r\n    .from('articles')\r\n    .select('*')\r\n    .eq('id', id)\r\n    .single()\r\n\r\n  if (error) {\r\n    console.error('Error fetching article:', error)\r\n    return null\r\n  }\r\n\r\n  return {\r\n    id: data.id,\r\n    title: data.title,\r\n    excerpt: data.excerpt,\r\n    content: data.content,\r\n    category: data.category,\r\n    date: data.date,\r\n    readingTime: data.reading_time,\r\n    imageUrl: data.image_url,\r\n    author: {\r\n      name: data.author_name,\r\n      role: data.author_role,\r\n      avatarUrl: data.author_avatar_url || '',\r\n    },\r\n  } as ArticleItem\r\n}\r\n\r\nexport async function createArticle(item: Omit<ArticleItem, 'id'>) {\r\n  const supabase = await createClient()\r\n\r\n  // 1. Verify Auth\r\n  const { data: { user }, error: authError } = await supabase.auth.getUser()\r\n  if (authError || !user) throw new Error(\"Unauthorized\")\r\n\r\n  // 2. Validate Input\r\n  const parseResult = articleSchema.safeParse(item)\r\n  if (!parseResult.success) throw new Error(\"Validation failed: \" + JSON.stringify(parseResult.error.flatten().fieldErrors))\r\n\r\n  \r\n  const { data, error } = await supabase\r\n    .from('articles')\r\n    .insert({\r\n      title: item.title,\r\n      excerpt: item.excerpt,\r\n      content: item.content,\r\n      category: item.category,\r\n      date: item.date,\r\n      reading_time: item.readingTime,\r\n      image_url: item.imageUrl,\r\n      author_name: item.author.name,\r\n      author_role: item.author.role,\r\n      author_avatar_url: item.author.avatarUrl,\r\n    })\r\n    .select()\r\n\r\n  if (error) {\r\n    console.error('Error creating article:', error)\r\n    throw new Error(`Failed to create article: ${error.message}`)\r\n  }\r\n  \r\n  revalidatePath('/')\r\n  revalidatePath('/admin/artikel')\r\n  revalidatePath(`/artikel/${data[0].id}`)\r\n  return { success: true, data }\r\n}\r\n\r\nexport async function updateArticle(item: ArticleItem) {\r\n    const supabase = await createClient()\r\n\r\n    // 1. Verify Auth\r\n    const { data: { user }, error: authError } = await supabase.auth.getUser()\r\n    if (authError || !user) throw new Error(\"Unauthorized\")\r\n\r\n    // 2. Validate Input\r\n    const parseResult = articleSchema.safeParse(item)\r\n    if (!parseResult.success) throw new Error(\"Validation failed: \" + JSON.stringify(parseResult.error.flatten().fieldErrors))\r\n\r\n    \r\n    const { data, error } = await supabase\r\n      .from('articles')\r\n      .update({\r\n        title: item.title,\r\n        excerpt: item.excerpt,\r\n        content: item.content,\r\n        category: item.category,\r\n        date: item.date,\r\n        reading_time: item.readingTime,\r\n        image_url: item.imageUrl,\r\n        author_name: item.author.name,\r\n        author_role: item.author.role,\r\n        author_avatar_url: item.author.avatarUrl,\r\n      })\r\n      .eq('id', item.id)\r\n      .select()\r\n  \r\n    if (error) {\r\n      console.error('Error updating article:', error)\r\n      throw new Error(`Failed to update article: ${error.message}`)\r\n    }\r\n    \r\n    revalidatePath('/')\r\n    revalidatePath('/admin/artikel')\r\n    revalidatePath(`/artikel/${item.id}`)\r\n    return { success: true, data }\r\n  }\r\n\r\nexport async function deleteArticle(id: string) {\r\n  const supabase = await createClient()\r\n\r\n  // 1. Verify Auth\r\n  const { data: { user }, error: authError } = await supabase.auth.getUser()\r\n  if (authError || !user) throw new Error(\"Unauthorized\")\r\n\r\n\r\n  // 1. Get image url to delete\r\n  const { data: item } = await supabase\r\n    .from('articles')\r\n    .select('image_url')\r\n    .eq('id', id)\r\n    .single()\r\n\r\n  if (item?.image_url) {\r\n    try {\r\n        const url = new URL(item.image_url)\r\n        const pathParts = url.pathname.split('/')\r\n        const fileName = pathParts[pathParts.length - 1]\r\n        \r\n        if (fileName) {\r\n            await supabase.storage.from('images').remove([fileName])\r\n        }\r\n    } catch (e) {\r\n        console.error('Error parsing image URL for deletion:', e)\r\n    }\r\n  }\r\n\r\n  const { error } = await supabase\r\n    .from('articles')\r\n    .delete()\r\n    .eq('id', id)\r\n\r\n  if (error) {\r\n     console.error('Error deleting article:', error)\r\n     throw new Error('Failed to delete article')\r\n  }\r\n  \r\n  revalidatePath('/')\r\n  revalidatePath('/admin/artikel')\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\actions\\auth.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":20,"column":40,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":20,"endColumn":43,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[761,764],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[761,764],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":71,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":71,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2316,2319],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2316,2319],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":2,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use server\";\r\n\r\nimport { createClient } from \"@/lib/supabase/server\";\r\nimport { revalidatePath } from \"next/cache\";\r\nimport { redirect } from \"next/navigation\";\r\nimport { z } from \"zod\";\r\n\r\nconst loginSchema = z.object({\r\n  identifier: z.string().min(1, \"Email atau Username wajib diisi\"),\r\n  password: z.string().min(6, \"Password minimal 6 karakter\"),\r\n});\r\n\r\nconst signupSchema = z.object({\r\n  fullName: z.string().min(3, \"Nama lengkap minimal 3 karakter\"),\r\n  username: z.string().min(3, \"Username minimal 3 karakter\").regex(/^[a-zA-Z0-9_]+$/, \"Username hanya boleh huruf, angka, dan underscore\"),\r\n  email: z.string().email(\"Format email tidak valid\"),\r\n  password: z.string().min(1, \"Password wajib diisi\"),\r\n});\r\n\r\nexport async function login(prevState: any, formData: FormData) {\r\n  const identifier = formData.get(\"email\") as string; // We reuse 'email' field name for identifier\r\n  const password = formData.get(\"password\") as string;\r\n\r\n  const validatedFields = loginSchema.safeParse({ identifier, password });\r\n\r\n  if (!validatedFields.success) {\r\n    return {\r\n      error: {\r\n        email: validatedFields.error.flatten().fieldErrors.identifier,\r\n        password: validatedFields.error.flatten().fieldErrors.password,\r\n      },\r\n    };\r\n  }\r\n\r\n  const supabase = await createClient();\r\n  let emailToUse = identifier;\r\n\r\n  // Check if input is a username (no @ symbol)\r\n  if (!identifier.includes(\"@\")) {\r\n    const { data: profile } = await supabase\r\n      .from(\"profiles\")\r\n      .select(\"email\")\r\n      .eq(\"username\", identifier)\r\n      .single();\r\n\r\n    if (profile?.email) {\r\n      emailToUse = profile.email;\r\n    } else {\r\n       // If username not found, we can try to let supabase fail, but it's better to fail early\r\n       // Or strictly talking, we just pass it freely if we trust supabase to handle it? \r\n       // Supabase signInWithPassword expects email, so we MUST resolve it.\r\n       return { message: \"Username tidak ditemukan atau password salah.\" };\r\n    }\r\n  }\r\n\r\n  const { error } = await supabase.auth.signInWithPassword({\r\n    email: emailToUse,\r\n    password,\r\n  });\r\n\r\n  if (error) {\r\n    return {\r\n      message: \"Email/Username atau password salah.\",\r\n    };\r\n  }\r\n\r\n  revalidatePath(\"/\", \"layout\");\r\n  redirect(\"/admin\");\r\n}\r\n\r\nexport async function signup(prevState: any, formData: FormData) {\r\n  const fullName = formData.get(\"fullName\") as string;\r\n  const username = formData.get(\"username\") as string;\r\n  const email = formData.get(\"email\") as string;\r\n  const password = formData.get(\"password\") as string;\r\n  const confirmPassword = formData.get(\"confirmPassword\") as string;\r\n\r\n  const validatedFields = signupSchema.safeParse({ fullName, username, email, password });\r\n\r\n  if (!validatedFields.success) {\r\n    return {\r\n        // Map username error to a generic error field or we need to update the form to accept username error\r\n        // For simplicity, we might just return the errors as is and handle in UI\r\n        error: validatedFields.error.flatten().fieldErrors,\r\n    };\r\n  }\r\n\r\n  if (password !== confirmPassword) {\r\n    return {\r\n      message: \"Konfirmasi password tidak cocok.\",\r\n    };\r\n  }\r\n\r\n  const supabase = await createClient();\r\n\r\n  // Check if username exists\r\n  const { data: existingUser } = await supabase\r\n    .from(\"profiles\")\r\n    .select(\"username\")\r\n    .eq(\"username\", username)\r\n    .single();\r\n  \r\n  if (existingUser) {\r\n    return { message: \"Username sudah digunakan. Pilih username lain.\" };\r\n  }\r\n\r\n  const { data, error } = await supabase.auth.signUp({\r\n    email,\r\n    password,\r\n    options: {\r\n      // Removed emailRedirectTo as user requested no verification flow\r\n      data: {\r\n        full_name: fullName,\r\n        username: username,\r\n      }\r\n    },\r\n  });\r\n\r\n  if (error) {\r\n    return {\r\n      message: error.message,\r\n    };\r\n  }\r\n\r\n  if (data.user) {\r\n    // Manually insert into profiles table to ensure data integrity\r\n    const { error: profileError } = await supabase.from(\"profiles\").insert({\r\n        id: data.user.id,\r\n        full_name: fullName,\r\n        username: username,\r\n        email: email,\r\n    });\r\n\r\n    if (profileError) {\r\n        console.error(\"Profile creation failed:\", profileError);\r\n    }\r\n  }\r\n\r\n  // If Supabase returns a session, it means the user is auto-confirmed/logged in\r\n  if (data.session) {\r\n    revalidatePath(\"/\", \"layout\");\r\n    redirect(\"/admin\");\r\n  }\r\n\r\n  return {\r\n    success: true,\r\n    message: \"Registrasi berhasil! Silakan login.\",\r\n  };\r\n}\r\n\r\nexport async function logout() {\r\n  const supabase = await createClient();\r\n  await supabase.auth.signOut();\r\n  revalidatePath(\"/\", \"layout\");\r\n  redirect(\"/auth/login\");\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\actions\\countdown.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":37,"column":58,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":37,"endColumn":61,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[977,980],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[977,980],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use server\";\r\n\r\nimport { createClient } from \"@/lib/supabase/server\";\r\nimport { revalidatePath } from \"next/cache\";\r\n\r\nexport type CountdownSettings = {\r\n    id: number;\r\n    title: string;\r\n    target_date: string;\r\n    description: string;\r\n    is_active: boolean;\r\n    updated_at: string;\r\n};\r\n\r\nexport async function getCountdownSettings(): Promise<CountdownSettings | null> {\r\n    const supabase = await createClient();\r\n\r\n    // Always fetch the first row, as we only support one global countdown\r\n    const { data, error } = await supabase\r\n        .from(\"countdown_settings\")\r\n        .select(\"*\")\r\n        .limit(1)\r\n        .single();\r\n\r\n    if (error) {\r\n        if (error.code === 'PGRST116') {\r\n            // No rows found\r\n            return null;\r\n        }\r\n        console.error(\"Error fetching countdown settings:\", error);\r\n        return null;\r\n    }\r\n\r\n    return data as CountdownSettings;\r\n}\r\n\r\nexport async function updateCountdownSettings(prevState: any, formData: FormData) {\r\n    const supabase = await createClient();\r\n\r\n    const title = formData.get(\"title\") as string;\r\n    const description = formData.get(\"description\") as string;\r\n    const target_date = formData.get(\"target_date\") as string;\r\n    const is_active = formData.get(\"is_active\") === \"on\";\r\n\r\n    // Check if a row exists\r\n    const existing = await getCountdownSettings();\r\n\r\n    let error;\r\n\r\n    if (existing) {\r\n        // Update existing\r\n        const { error: updateError } = await supabase\r\n            .from(\"countdown_settings\")\r\n            .update({\r\n                title,\r\n                description,\r\n                target_date,\r\n                is_active,\r\n                updated_at: new Date().toISOString(),\r\n            })\r\n            .eq(\"id\", existing.id);\r\n        error = updateError;\r\n    } else {\r\n        // Create new if not exists\r\n        const { error: insertError } = await supabase\r\n            .from(\"countdown_settings\")\r\n            .insert({\r\n                title,\r\n                description,\r\n                target_date,\r\n                is_active,\r\n            });\r\n        error = insertError;\r\n    }\r\n\r\n    if (error) {\r\n        console.error(\"Error updating countdown:\", error);\r\n        return { message: \"Gagal menyimpan pengaturan countdown.\" };\r\n    }\r\n\r\n    revalidatePath(\"/\");\r\n    revalidatePath(\"/admin/countdown\");\r\n\r\n    return { message: \"Pengaturan countdown berhasil disimpan!\", success: true };\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\actions\\donations.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\actions\\events.ts","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":36,"column":26,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":36,"endColumn":29,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[1025,1028],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[1025,1028],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"'use server'\r\n\r\nimport { createClient } from '@/lib/supabase/server'\r\nimport { EventItem } from '@/types'\r\nimport { revalidatePath } from 'next/cache'\r\nimport { z } from 'zod'\r\n\r\nconst eventSchema = z.object({\r\n  title: z.string().min(1, \"Judul wajib diisi\"),\r\n  date: z.string().min(1, \"Tanggal wajib diisi\"),\r\n  time: z.string().min(1, \"Waktu wajib diisi\"),\r\n  location: z.string().min(1, \"Lokasi wajib diisi\"),\r\n  category: z.enum([\"kajian\", \"olahraga\", \"sosial\", \"lainnya\"]),\r\n  description: z.string().min(1, \"Deskripsi wajib diisi\"),\r\n  imageUrl: z.string().optional(),\r\n})\r\n\r\nexport async function getEvents(limit?: number) {\r\n  const supabase = await createClient()\r\n  let query = supabase\r\n    .from('events')\r\n    .select('*')\r\n    .order('date', { ascending: true }) // Ascending for upcoming events\r\n\r\n  if (limit) {\r\n    query = query.limit(limit)\r\n  }\r\n\r\n  const { data, error } = await query\r\n\r\n  if (error) {\r\n    console.error('Error fetching events:', error)\r\n    return []\r\n  }\r\n\r\n  return data.map((item: any) => ({\r\n    id: item.id,\r\n    title: item.title,\r\n    date: item.date,\r\n    time: item.time,\r\n    location: item.location,\r\n    category: item.category,\r\n    description: item.description,\r\n    imageUrl: item.image_url,\r\n  })) as EventItem[]\r\n}\r\n\r\nexport async function getLatestEvent() {\r\n  const supabase = await createClient()\r\n  const { data, error } = await supabase\r\n    .from('events')\r\n    .select('*')\r\n    .order('created_at', { ascending: false })\r\n    .limit(1)\r\n    .single()\r\n\r\n  if (error) {\r\n     if (error.code !== 'PGRST116') {\r\n        console.error('Error fetching latest event:', error)\r\n     }\r\n     return null\r\n  }\r\n\r\n  return {\r\n    id: data.id,\r\n    title: data.title,\r\n    date: data.date,\r\n    time: data.time,\r\n    location: data.location,\r\n    category: data.category,\r\n    description: data.description,\r\n    imageUrl: data.image_url,\r\n  } as EventItem\r\n}\r\n\r\nexport async function getEventById(id: string) {\r\n  const supabase = await createClient()\r\n  const { data, error } = await supabase\r\n    .from('events')\r\n    .select('*')\r\n    .eq('id', id)\r\n    .single()\r\n\r\n  if (error) {\r\n     // Ignore \"no rows returned\" (PGRST116) and \"invalid input syntax for type uuid\" (22P02)\r\n     if (error.code !== 'PGRST116' && error.code !== '22P02') {\r\n        console.error('Error fetching event by id:', error.message, error.details || '')\r\n     }\r\n     return null\r\n  }\r\n\r\n  return {\r\n    id: data.id,\r\n    title: data.title,\r\n    date: data.date,\r\n    time: data.time,\r\n    location: data.location,\r\n    category: data.category,\r\n    description: data.description,\r\n    imageUrl: data.image_url,\r\n  } as EventItem\r\n}\r\n\r\nexport async function createEvent(item: Omit<EventItem, 'id'>) {\r\n    const supabase = await createClient()\r\n\r\n    // 1. Verify Auth\r\n    const { data: { user }, error: authError } = await supabase.auth.getUser()\r\n    if (authError || !user) throw new Error(\"Unauthorized\")\r\n\r\n    // 2. Validate Input\r\n    const parseResult = eventSchema.safeParse(item)\r\n    if (!parseResult.success) throw new Error(\"Validation failed: \" + JSON.stringify(parseResult.error.flatten().fieldErrors))\r\n\r\n    \r\n    const { data, error } = await supabase\r\n      .from('events')\r\n      .insert({\r\n        title: item.title,\r\n        date: item.date,\r\n        time: item.time,\r\n        location: item.location,\r\n        category: item.category,\r\n        description: item.description,\r\n        image_url: item.imageUrl,\r\n      })\r\n      .select()\r\n  \r\n    if (error) {\r\n      console.error('Error creating event:', error)\r\n      throw new Error(`Failed to create event: ${error.message}`)\r\n    }\r\n    \r\n    revalidatePath('/')\r\n    revalidatePath('/admin/agenda')\r\n    return { success: true, data }\r\n}\r\n\r\nexport async function updateEvent(item: EventItem) {\r\n    const supabase = await createClient()\r\n\r\n    // 1. Verify Auth\r\n    const { data: { user }, error: authError } = await supabase.auth.getUser()\r\n    if (authError || !user) throw new Error(\"Unauthorized\")\r\n\r\n    // 2. Validate Input\r\n    const parseResult = eventSchema.safeParse(item)\r\n    if (!parseResult.success) throw new Error(\"Validation failed: \" + JSON.stringify(parseResult.error.flatten().fieldErrors))\r\n\r\n    \r\n    const { data, error } = await supabase\r\n      .from('events')\r\n      .update({\r\n        title: item.title,\r\n        date: item.date,\r\n        time: item.time,\r\n        location: item.location,\r\n        category: item.category,\r\n        description: item.description,\r\n        image_url: item.imageUrl,\r\n      })\r\n      .eq('id', item.id)\r\n      .select()\r\n  \r\n    if (error) {\r\n      console.error('Error updating event:', error)\r\n      throw new Error(`Failed to update event: ${error.message}`)\r\n    }\r\n    \r\n    revalidatePath('/')\r\n    revalidatePath('/admin/agenda')\r\n    return { success: true, data }\r\n}\r\n\r\nexport async function deleteEvent(id: string) {\r\n    const supabase = await createClient()\r\n\r\n    // 1. Verify Auth\r\n    const { data: { user }, error: authError } = await supabase.auth.getUser()\r\n    if (authError || !user) throw new Error(\"Unauthorized\")\r\n\r\n  \r\n    // Optional: delete image if exists (similar to articles)\r\n    // Assuming image_url logic matches\r\n  \r\n    const { error } = await supabase\r\n      .from('events')\r\n      .delete()\r\n      .eq('id', id)\r\n  \r\n    if (error) {\r\n       console.error('Error deleting event:', error)\r\n       throw new Error('Failed to delete event')\r\n    }\r\n    \r\n    revalidatePath('/')\r\n    revalidatePath('/admin/agenda')\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\actions\\gallery-update.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\actions\\gallery.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\actions\\profile.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\actions\\settings.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\admin\\agenda\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'EventFormValues' is defined but never used.","line":14,"column":26,"nodeType":"Identifier","messageId":"unusedVar","endLine":14,"endColumn":41,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"EventFormValues"},"fix":{"range":[969,986],"text":""},"desc":"Remove unused variable \"EventFormValues\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'eventFormSchema' is defined but never used.","line":14,"column":43,"nodeType":"Identifier","messageId":"unusedVar","endLine":14,"endColumn":58,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"eventFormSchema"},"fix":{"range":[986,1003],"text":""},"desc":"Remove unused variable \"eventFormSchema\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'EventCategory' is defined but never used.","line":53,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":53,"endColumn":23,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"EventCategory"},"fix":{"range":[2391,2431],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter } from \"@/components/ui/dialog\";\r\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle } from \"@/components/ui/alert-dialog\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Plus, Pencil, Trash2, Search, Calendar, MapPin, Clock } from \"lucide-react\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { RichTextEditor } from \"@/components/ui/rich-text-editor\";\r\nimport { Controller } from \"react-hook-form\";\r\nimport { useAgendaLogic, EventFormValues, eventFormSchema } from \"@/hooks/useAgendaLogic\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\n// Helper component for expandable description\r\nfunction ExpandableDescription({ content }: { content: string }) {\r\n  const [isExpanded, setIsExpanded] = React.useState(false);\r\n\r\n  // Format HTML to clean text with lines\r\n  const plainText = React.useMemo(() => content\r\n    ? content\r\n      .replace(/<br\\s*\\/?>/gi, \"\\n\")\r\n      .replace(/<\\/(p|div|li|ul|ol|h[1-6])>/gi, \"\\n\")\r\n      .replace(/<[^>]+>/g, \"\")\r\n      .trim()\r\n    : \"\", [content]);\r\n\r\n  if (!plainText) return null;\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-start gap-1 w-full max-w-full text-left\">\r\n      <div\r\n        className={`text-xs text-slate-500 leading-relaxed transition-all duration-300 w-full break-words whitespace-pre-line ${isExpanded ? \"\" : \"line-clamp-2 mix-blend-multiply\"}`}\r\n        title={plainText}\r\n      >\r\n        {plainText}\r\n      </div>\r\n      {plainText.length > 80 && (\r\n        <button\r\n          onClick={(e) => { e.stopPropagation(); setIsExpanded(!isExpanded); }}\r\n          className=\"text-[10px] font-bold text-emerald-600 hover:text-emerald-700 flex items-center gap-0.5 mt-0.5 select-none uppercase tracking-wider shrink-0\"\r\n        >\r\n          {isExpanded ? \"Sembunyikan\" : \"Selengkapnya\"}\r\n        </button>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nimport React from \"react\";\r\nimport { EventCategory } from \"@/types\";\r\n\r\nexport default function AgendaAdminPage() {\r\n  const {\r\n    filteredEvents,\r\n    searchQuery,\r\n    setSearchQuery,\r\n    isDialogOpen,\r\n    setIsDialogOpen,\r\n    isDeleteOpen,\r\n    setIsDeleteOpen,\r\n    editingId,\r\n    form,\r\n    onSubmit,\r\n    handleEdit,\r\n    confirmDelete,\r\n    handleDelete,\r\n    openNewDialog\r\n  } = useAgendaLogic();\r\n\r\n  return (\r\n    <div className=\"space-y-8 max-w-7xl mx-auto\">\r\n      {/* Header Section */}\r\n      <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-slate-900 tracking-tight\">Manajemen Agenda</h1>\r\n          <p className=\"text-slate-500 mt-1\">Kelola jadwal kegiatan masjid dan event penting.</p>\r\n        </div>\r\n        <Button onClick={openNewDialog} className=\"bg-emerald-600 hover:bg-emerald-700 text-white shadow-lg shadow-emerald-200 transition-all hover:scale-105\">\r\n          <Plus className=\"w-4 h-4 mr-2\" />\r\n          Tambah Agenda\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Toolbar & Filter */}\r\n      <div className=\"flex items-center gap-4 max-w-md bg-white/50 p-2 rounded-xl backdrop-blur-sm border border-slate-100 shadow-sm\">\r\n        <div className=\"relative w-full\">\r\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\r\n          <Input\r\n            placeholder=\"Cari agenda, lokasi...\"\r\n            className=\"pl-9 bg-transparent border-none focus-visible:ring-0 placeholder:text-slate-400\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Glassmorphism Table Container */}\r\n      <div className=\"bg-white/70 backdrop-blur-xl rounded-2xl border border-white/20 shadow-xl overflow-hidden ring-1 ring-slate-900/5\">\r\n        <Table className=\"table-fixed w-full\">\r\n          <TableHeader className=\"bg-slate-50/50 border-b border-slate-200/50\">\r\n            <TableRow className=\"hover:bg-transparent\">\r\n              <TableHead className=\"w-[35%] font-bold text-slate-800 tracking-wide uppercase text-xs p-4\">Judul & Deskripsi</TableHead>\r\n              <TableHead className=\"w-[20%] font-bold text-slate-800 tracking-wide uppercase text-xs p-4\">Kategori</TableHead>\r\n              <TableHead className=\"w-[30%] font-bold text-slate-800 tracking-wide uppercase text-xs p-4\">Waktu & Tempat</TableHead>\r\n              <TableHead className=\"w-[15%] text-right font-bold text-slate-800 tracking-wide uppercase text-xs p-4\">Aksi</TableHead>\r\n            </TableRow>\r\n          </TableHeader>\r\n          <TableBody>\r\n            <AnimatePresence mode=\"popLayout\">\r\n              {filteredEvents.length === 0 ? (\r\n                <TableRow>\r\n                  <TableCell colSpan={4} className=\"h-40 text-center text-slate-500 bg-white/30\">\r\n                    <div className=\"flex flex-col items-center justify-center gap-2\">\r\n                      <div className=\"w-12 h-12 rounded-full bg-slate-100 flex items-center justify-center\">\r\n                        <Calendar className=\"w-6 h-6 text-slate-300\" />\r\n                      </div>\r\n                      <p>Tidak ada agenda ditemukan.</p>\r\n                    </div>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ) : (\r\n                filteredEvents.map((event) => (\r\n                  <motion.tr\r\n                    key={event.id}\r\n                    initial={{ opacity: 0, y: 10 }}\r\n                    animate={{ opacity: 1, y: 0 }}\r\n                    exit={{ opacity: 0, scale: 0.95 }}\r\n                    transition={{ duration: 0.2 }}\r\n                    className=\"group hover:bg-emerald-50/30 transition-colors border-b border-slate-100/50 last:border-none\"\r\n                  >\r\n                    <TableCell className=\"align-top p-4\">\r\n                      <div className=\"flex flex-col gap-1.5 w-full\">\r\n                        <span className=\"text-slate-900 font-bold text-base truncate block group-hover:text-emerald-700 transition-colors\">{event.title}</span>\r\n                        <ExpandableDescription content={event.description} />\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell className=\"align-top p-4\">\r\n                      <Badge variant=\"secondary\" className=\"capitalize bg-white border border-slate-200 shadow-sm text-slate-700 font-medium px-3 py-1\">{event.category}</Badge>\r\n                    </TableCell>\r\n                    <TableCell className=\"align-top p-4\">\r\n                      <div className=\"flex flex-col gap-2 text-sm text-slate-600\">\r\n                        <div className=\"flex items-center gap-2.5\">\r\n                          <div className=\"w-6 h-6 rounded-full bg-emerald-100 flex items-center justify-center shrink-0\">\r\n                            <Calendar className=\"w-3.5 h-3.5 text-emerald-600\" />\r\n                          </div>\r\n                          <span className=\"font-medium\">{event.date}</span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2.5\">\r\n                          <div className=\"w-6 h-6 rounded-full bg-blue-100 flex items-center justify-center shrink-0\">\r\n                            <Clock className=\"w-3.5 h-3.5 text-blue-600\" />\r\n                          </div>\r\n                          <span>{event.time}</span>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-2.5\">\r\n                          <div className=\"w-6 h-6 rounded-full bg-rose-100 flex items-center justify-center shrink-0\">\r\n                            <MapPin className=\"w-3.5 h-3.5 text-rose-600\" />\r\n                          </div>\r\n                          <span className=\"truncate max-w-[180px]\" title={event.location}>{event.location}</span>\r\n                        </div>\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell className=\"text-right align-top p-4\">\r\n                      <div className=\"flex items-center justify-end gap-2 opacity-60 group-hover:opacity-100 transition-opacity\">\r\n                        <Button variant=\"ghost\" size=\"sm\" onClick={() => handleEdit(event)} className=\"h-9 w-9 p-0 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-full border border-transparent hover:border-blue-100 hover:shadow-sm\">\r\n                          <Pencil className=\"w-4 h-4\" />\r\n                          <span className=\"sr-only\">Edit</span>\r\n                        </Button>\r\n                        <Button variant=\"ghost\" size=\"sm\" onClick={() => confirmDelete(event.id)} className=\"h-9 w-9 p-0 text-slate-500 hover:text-rose-600 hover:bg-rose-50 rounded-full border border-transparent hover:border-rose-100 hover:shadow-sm\">\r\n                          <Trash2 className=\"w-4 h-4\" />\r\n                          <span className=\"sr-only\">Delete</span>\r\n                        </Button>\r\n                      </div>\r\n                    </TableCell>\r\n                  </motion.tr>\r\n                ))\r\n              )}\r\n            </AnimatePresence>\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n\r\n      {/* Dialog Form */}\r\n      <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n        <DialogContent className=\"sm:max-w-[700px] max-h-[90vh] overflow-y-auto bg-white/95 backdrop-blur-xl border-white/20 shadow-2xl\">\r\n          <DialogHeader>\r\n            <DialogTitle className=\"text-2xl font-bold bg-gradient-to-br from-slate-900 to-slate-700 bg-clip-text text-transparent\">{editingId ? \"Edit Agenda\" : \"Tambah Agenda Baru\"}</DialogTitle>\r\n            <DialogDescription>\r\n              Isi formulir di bawah ini untuk {editingId ? \"memperbarui\" : \"membuat\"} agenda kegiatan.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6 py-4\">\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"title\" className=\"text-sm font-semibold text-slate-700\">Judul Kegiatan <span className=\"text-rose-500\">*</span></Label>\r\n              <Input id=\"title\" {...form.register(\"title\")} placeholder=\"Contoh: Kajian Rutin...\" className=\"h-11 bg-slate-50 border-slate-200 focus:bg-white transition-all\" />\r\n              {form.formState.errors.title && <p className=\"text-xs text-rose-500 font-medium\">{form.formState.errors.title.message}</p>}\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"date\" className=\"text-sm font-semibold text-slate-700\">Tanggal <span className=\"text-rose-500\">*</span></Label>\r\n                <Input id=\"date\" type=\"date\" {...form.register(\"date\")} className=\"h-11 bg-slate-50 border-slate-200 focus:bg-white\" />\r\n                {form.formState.errors.date && <p className=\"text-xs text-rose-500 font-medium\">{form.formState.errors.date.message}</p>}\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"time\" className=\"text-sm font-semibold text-slate-700\">Waktu (WIB) <span className=\"text-rose-500\">*</span></Label>\r\n                <Input id=\"time\" type=\"time\" {...form.register(\"time\")} className=\"h-11 bg-slate-50 border-slate-200 focus:bg-white\" />\r\n                {form.formState.errors.time && <p className=\"text-xs text-rose-500 font-medium\">{form.formState.errors.time.message}</p>}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-6\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"category\" className=\"text-sm font-semibold text-slate-700\">Kategori <span className=\"text-rose-500\">*</span></Label>\r\n                <Controller\r\n                  control={form.control}\r\n                  name=\"category\"\r\n                  render={({ field }) => (\r\n                    <Select\r\n                      onValueChange={field.onChange}\r\n                      defaultValue={field.value}\r\n                    >\r\n                      <SelectTrigger className=\"h-11 bg-slate-50 border-slate-200 focus:bg-white\">\r\n                        <SelectValue placeholder=\"Pilih kategori\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"kajian\">Kajian</SelectItem>\r\n                        <SelectItem value=\"olahraga\">Olahraga</SelectItem>\r\n                        <SelectItem value=\"sosial\">Sosial</SelectItem>\r\n                        <SelectItem value=\"lainnya\">Lainnya</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  )}\r\n                />\r\n              </div>\r\n\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"location\" className=\"text-sm font-semibold text-slate-700\">Lokasi <span className=\"text-rose-500\">*</span></Label>\r\n                <Input id=\"location\" {...form.register(\"location\")} placeholder=\"Contoh: Masjid Utama\" className=\"h-11 bg-slate-50 border-slate-200 focus:bg-white\" />\r\n                {form.formState.errors.location && <p className=\"text-xs text-rose-500 font-medium\">{form.formState.errors.location.message}</p>}\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label className=\"text-sm font-semibold text-slate-700\">Deskripsi Lengkap <span className=\"text-rose-500\">*</span></Label>\r\n              <Controller\r\n                control={form.control}\r\n                name=\"description\"\r\n                render={({ field }) => (\r\n                  <RichTextEditor\r\n                    value={field.value}\r\n                    onChange={field.onChange}\r\n                    placeholder=\"Tulis deskripsi kegiatan di sini...\"\r\n                  />\r\n                )}\r\n              />\r\n              {form.formState.errors.description && <p className=\"text-xs text-rose-500 font-medium\">{form.formState.errors.description.message}</p>}\r\n            </div>\r\n\r\n            <DialogFooter className=\"pt-6 border-t border-slate-100\">\r\n              <Button type=\"button\" variant=\"ghost\" onClick={() => setIsDialogOpen(false)} className=\"h-11 px-6 text-slate-500 hover:text-slate-900\">Batal</Button>\r\n              <Button type=\"submit\" className=\"bg-emerald-600 hover:bg-emerald-700 text-white h-11 px-8 rounded-full shadow-lg shadow-emerald-200/50 hover:shadow-emerald-200 transaction-all font-semibold\">Simpan Agenda</Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Delete Confirmation Alert */}\r\n      <AlertDialog open={isDeleteOpen} onOpenChange={setIsDeleteOpen}>\r\n        <AlertDialogContent className=\"bg-white/95 backdrop-blur-md\">\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle className=\"text-rose-600 flex items-center gap-2\">\r\n              <Trash2 className=\"w-5 h-5\" />\r\n              Hapus Agenda?\r\n            </AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              Apakah Anda yakin ingin menghapus agenda ini? Tindakan ini tidak dapat dibatalkan dan data akan hilang permanen.\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel className=\"border-slate-200\">Batal</AlertDialogCancel>\r\n            <AlertDialogAction onClick={handleDelete} className=\"bg-rose-600 hover:bg-rose-700 text-white border-none shadow-md shadow-rose-200\">\r\n              Ya, Hapus\r\n            </AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\admin\\artikel\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":166,"column":21,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":166,"endColumn":24,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[5916,5919],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[5916,5919],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":229,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":229,"endColumn":21},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":365,"column":25,"nodeType":"JSXOpeningElement","endLine":365,"endColumn":102}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter } from \"@/components/ui/dialog\";\r\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle } from \"@/components/ui/alert-dialog\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Plus, Pencil, Trash2, Search, Image as ImageIcon, CalendarIcon, Loader2 } from \"lucide-react\";\r\nimport { ArticleItem } from \"@/types\";\r\nimport { useForm, Controller } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport * as z from \"zod\";\r\nimport { toast } from \"sonner\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { RichTextEditor } from \"@/components/ui/rich-text-editor\";\r\nimport Image from \"next/image\";\r\nimport { createClient } from \"@/lib/supabase/client\";\r\nimport { getArticles, createArticle, updateArticle, deleteArticle } from \"@/app/actions/articles\";\r\n\r\n// Schema Validation\r\nconst formSchema = z.object({\r\n  title: z.string().min(5, \"Judul minimal 5 karakter\"),\r\n  excerpt: z.string().min(10, \"Ringkasan minimal 10 karakter\"),\r\n  category: z.string().min(1, \"Kategori wajib diisi\"),\r\n  date: z.string().min(1, \"Tanggal wajib diisi\"),\r\n  readingTime: z.string().min(1, \"Waktu baca wajib diisi\"),\r\n  imageUrl: z.string().optional(), // Made optional for edit case where we keep existing\r\n  authorName: z.string().min(1, \"Nama penulis wajib diisi\"),\r\n  authorRole: z.string().min(1, \"Peran penulis wajib diisi\"),\r\n  content: z.string().optional(),\r\n});\r\n\r\ntype FormValues = z.infer<typeof formSchema>;\r\n\r\nexport default function ArticleAdminPage() {\r\n  const [dataList, setDataList] = useState<ArticleItem[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  \r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\r\n  const [editingId, setEditingId] = useState<string | null>(null);\r\n\r\n  // File Upload State\r\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\r\n  const [previewUrl, setPreviewUrl] = useState<string>(\"\");\r\n\r\n  // Delete State\r\n  const [deleteId, setDeleteId] = useState<string | null>(null);\r\n  const [isDeleteOpen, setIsDeleteOpen] = useState(false);\r\n\r\n  // Load Data\r\n  useEffect(() => {\r\n    loadData();\r\n  }, []);\r\n\r\n  async function loadData() {\r\n    setIsLoading(true);\r\n    try {\r\n      const data = await getArticles();\r\n      setDataList(data);\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error(\"Gagal memuat data artikel\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  // Filter\r\n  const filteredData = dataList.filter((item) => \r\n    item.title.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n    item.author.name.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  // Form handling\r\n  const form = useForm<FormValues>({\r\n    resolver: zodResolver(formSchema),\r\n    defaultValues: {\r\n      title: \"\",\r\n      excerpt: \"\",\r\n      category: \"\",\r\n      date: \"\",\r\n      readingTime: \"5 menit baca\",\r\n      imageUrl: \"\",\r\n      authorName: \"\",\r\n      authorRole: \"Kontributor\",\r\n      content: \"\",\r\n    },\r\n  });\r\n\r\n  // Handle File Selection\r\n  const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      setSelectedFile(file);\r\n      const url = URL.createObjectURL(file);\r\n      setPreviewUrl(url);\r\n      form.setValue(\"imageUrl\", url); // Trigger validation pass\r\n    }\r\n  };\r\n\r\n  const uploadImage = async (file: File) => {\r\n    const supabase = createClient();\r\n    const fileExt = file.name.split('.').pop();\r\n    const fileName = `article-${Date.now()}.${fileExt}`;\r\n    const filePath = `${fileName}`;\r\n\r\n    const { error: uploadError } = await supabase.storage\r\n      .from('images') // Reusing images bucket\r\n      .upload(filePath, file);\r\n\r\n    if (uploadError) {\r\n      throw uploadError;\r\n    }\r\n\r\n    const { data } = supabase.storage.from('images').getPublicUrl(filePath);\r\n    return data.publicUrl;\r\n  };\r\n\r\n  const onSubmit = async (data: FormValues) => {\r\n    setIsSubmitting(true);\r\n    try {\r\n      let finalImageUrl = data.imageUrl || \"\";\r\n\r\n      // 1. Upload Image (if new file selected)\r\n      if (selectedFile) {\r\n        finalImageUrl = await uploadImage(selectedFile);\r\n      }\r\n\r\n      const dateObj = new Date(data.date);\r\n      const formattedDate = dateObj.toLocaleDateString(\"id-ID\", { day: \"numeric\", month: \"short\", year: \"numeric\" });\r\n\r\n      const payload = {\r\n        title: data.title,\r\n        excerpt: data.excerpt,\r\n        content: data.content || \"\",\r\n        category: data.category,\r\n        date: formattedDate,\r\n        readingTime: data.readingTime,\r\n        imageUrl: finalImageUrl,\r\n        author: {\r\n          name: data.authorName,\r\n          role: data.authorRole,\r\n          avatarUrl: \"\" \r\n        }\r\n      };\r\n\r\n      if (editingId) {\r\n        await updateArticle({ ...payload, id: editingId } as ArticleItem);\r\n        toast.success(\"Artikel berhasil diperbarui\");\r\n      } else {\r\n        if (!finalImageUrl) throw new Error(\"Gambar wajib diupload untuk artikel baru\");\r\n        await createArticle(payload);\r\n        toast.success(\"Artikel baru berhasil ditambahkan\");\r\n      }\r\n      \r\n      setIsDialogOpen(false);\r\n      resetForm();\r\n      await loadData();\r\n\r\n    } catch (error: any) {\r\n      console.error(error);\r\n      toast.error(error.message || \"Terjadi kesalahan saat menyimpan\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setEditingId(null);\r\n    setSelectedFile(null);\r\n    setPreviewUrl(\"\");\r\n    form.reset({\r\n      title: \"\",\r\n      excerpt: \"\",\r\n      category: \"\",\r\n      date: \"\",\r\n      readingTime: \"5 menit baca\",\r\n      imageUrl: \"\",\r\n      authorName: \"\",\r\n      authorRole: \"Kontributor\",\r\n      content: \"\",\r\n    });\r\n  };\r\n\r\n  const handleEdit = (item: ArticleItem) => {\r\n    setEditingId(item.id);\r\n    \r\n    setPreviewUrl(item.imageUrl);\r\n    setSelectedFile(null);\r\n\r\n    // Date handling: current item.date is formatted string \"12 Okt 2023\"\r\n    // HTML date input needs \"YYYY-MM-DD\".\r\n    // We'd ideally parse it or store raw date DB side. \r\n    // For now, let's leave date empty as \"re-enter required\" if we can't parse easily without library\r\n    // Or try basic parsing if format is consistent 'D MMM YYYY' in ID locale... \r\n    // Let's just reset date field to empty for now to be safe.\r\n    \r\n    form.reset({\r\n      title: item.title,\r\n      excerpt: item.excerpt,\r\n      category: item.category,\r\n      date: \"\", \r\n      readingTime: item.readingTime,\r\n      imageUrl: item.imageUrl,\r\n      authorName: item.author.name,\r\n      authorRole: item.author.role,\r\n      content: item.content || \"\",\r\n    });\r\n    setIsDialogOpen(true);\r\n  };\r\n\r\n  const confirmDelete = (id: string) => {\r\n    setDeleteId(id);\r\n    setIsDeleteOpen(true);\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (deleteId) {\r\n      try {\r\n        await deleteArticle(deleteId);\r\n        toast.success(\"Artikel berhasil dihapus\");\r\n        await loadData();\r\n      } catch (error) {\r\n        toast.error(\"Gagal menghapus artikel\");\r\n      } finally {\r\n        setIsDeleteOpen(false);\r\n        setDeleteId(null);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-slate-900 tracking-tight\">Manajemen Artikel</h1>\r\n          <p className=\"text-slate-500 mt-1\">Publikasi dan kelola konten artikel.</p>\r\n        </div>\r\n        <Button onClick={() => { resetForm(); setIsDialogOpen(true); }} className=\"bg-emerald-600 hover:bg-emerald-700 text-white\">\r\n          <Plus className=\"w-4 h-4 mr-2\" />\r\n          Tulis Artikel\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Toolbar */}\r\n      <div className=\"flex items-center gap-4 max-w-sm\">\r\n        <div className=\"relative w-full\">\r\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\r\n          <Input \r\n            placeholder=\"Cari judul atau penulis...\" \r\n            className=\"pl-9 bg-white border-slate-200\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Table */}\r\n      <div className=\"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden\">\r\n        <Table>\r\n          <TableHeader className=\"bg-slate-50 border-b border-slate-200\">\r\n            <TableRow>\r\n              <TableHead className=\"w-[80px] font-semibold text-slate-900\">Cover</TableHead>\r\n              <TableHead className=\"w-[300px] font-semibold text-slate-900\">Judul & Ringkasan</TableHead>\r\n              <TableHead className=\"font-semibold text-slate-900\">Penulis</TableHead>\r\n              <TableHead className=\"font-semibold text-slate-900\">Kategori</TableHead>\r\n              <TableHead className=\"text-right font-semibold text-slate-900\">Aksi</TableHead>\r\n            </TableRow>\r\n          </TableHeader>\r\n          <TableBody>\r\n            {isLoading ? (\r\n               <TableRow>\r\n                 <TableCell colSpan={5} className=\"h-32 text-center\">\r\n                    <div className=\"flex justify-center items-center h-full\">\r\n                      <Loader2 className=\"w-6 h-6 animate-spin text-emerald-600\" />\r\n                    </div>\r\n                 </TableCell>\r\n               </TableRow>\r\n            ) : filteredData.length === 0 ? (\r\n               <TableRow>\r\n                  <TableCell colSpan={5} className=\"h-32 text-center text-slate-500\">\r\n                     <p>Tidak ada artikel ditemukan.</p>\r\n                  </TableCell>\r\n               </TableRow>\r\n            ) : (\r\n                filteredData.map((item) => (\r\n                  <TableRow key={item.id} className=\"hover:bg-slate-50/50 transition-colors border-b border-slate-100 last:border-none\">\r\n                    <TableCell className=\"align-top py-4\">\r\n                      <div className=\"w-14 h-14 bg-slate-100 rounded-lg overflow-hidden relative border border-slate-200\">\r\n                        {item.imageUrl ? (\r\n                           <Image src={item.imageUrl} alt={item.title} fill className=\"object-cover\" />\r\n                        ) : (\r\n                           <div className=\"absolute inset-0 flex items-center justify-center text-slate-400\">\r\n                              <ImageIcon className=\"w-6 h-6\" />\r\n                           </div>\r\n                        )}\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell className=\"font-medium align-top py-4\">\r\n                      <div className=\"flex flex-col gap-1.5\">\r\n                        <span className=\"text-slate-900 font-semibold line-clamp-1 text-base\">{item.title}</span>\r\n                        <span className=\"text-xs text-slate-500 line-clamp-2 leading-relaxed\">{item.excerpt}</span>\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell className=\"align-top py-4\">\r\n                      <div className=\"flex items-center gap-3\">\r\n                        <div className=\"w-8 h-8 rounded-full bg-emerald-100 text-emerald-700 flex items-center justify-center font-bold text-xs\">\r\n                           {item.author.name.charAt(0)}\r\n                        </div>\r\n                        <div className=\"flex flex-col\">\r\n                           <span className=\"text-sm font-medium text-slate-900\">{item.author.name}</span>\r\n                           <span className=\"text-xs text-slate-500 flex items-center mt-0.5\">\r\n                              <CalendarIcon className=\"w-3 h-3 mr-1\" />\r\n                              {item.date}\r\n                           </span>\r\n                        </div>\r\n                      </div>\r\n                    </TableCell>\r\n                    <TableCell className=\"align-top py-4\">\r\n                      <Badge variant=\"secondary\" className=\"bg-slate-100 text-slate-700 hover:bg-slate-200 border-none font-medium\">{item.category}</Badge>\r\n                    </TableCell>\r\n                    <TableCell className=\"text-right align-top py-4\">\r\n                      <div className=\"flex items-center justify-end gap-1\">\r\n                        <Button variant=\"ghost\" size=\"sm\" onClick={() => handleEdit(item)} className=\"h-8 w-8 p-0 text-slate-500 hover:text-blue-600 hover:bg-blue-50 rounded-full\">\r\n                          <Pencil className=\"w-4 h-4\" />\r\n                          <span className=\"sr-only\">Edit</span>\r\n                        </Button>\r\n                        <Button variant=\"ghost\" size=\"sm\" onClick={() => confirmDelete(item.id)} className=\"h-8 w-8 p-0 text-slate-500 hover:text-rose-600 hover:bg-rose-50 rounded-full\">\r\n                          <Trash2 className=\"w-4 h-4\" />\r\n                          <span className=\"sr-only\">Delete</span>\r\n                        </Button>\r\n                      </div>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n\r\n      {/* Dialog Form */}\r\n      <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n        <DialogContent className=\"sm:max-w-[700px] max-h-[90vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>{editingId ? \"Edit Artikel\" : \"Tulis Artikel Baru\"}</DialogTitle>\r\n            <DialogDescription>\r\n              Lengkapi formulir di bawah ini untuk mempublikasikan artikel.\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6 py-4\">\r\n            \r\n            {/* Image Upload Area */}\r\n            <div className=\"flex flex-col gap-2\">\r\n               <Label className=\"text-sm font-semibold text-slate-700\">Cover Artikel <span className=\"text-rose-500\">*</span></Label>\r\n               <div className=\"flex items-start gap-4\">\r\n                  <div className=\"w-32 h-20 bg-slate-100 rounded-lg border-2 border-dashed border-slate-300 flex items-center justify-center overflow-hidden relative group\">\r\n                     {previewUrl ? (\r\n                        <img src={previewUrl} alt=\"Preview\" className=\"w-full h-full object-cover\" />\r\n                     ) : (\r\n                        <ImageIcon className=\"w-8 h-8 text-slate-400\" />\r\n                     )}\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                     <Input \r\n                        id=\"imageUpload\" \r\n                        type=\"file\" \r\n                        accept=\"image/*\" \r\n                        onChange={handleFileSelect}\r\n                        className=\"cursor-pointer file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-emerald-50 file:text-emerald-700 hover:file:bg-emerald-100 mb-2\" \r\n                     />\r\n                     <p className=\"text-xs text-slate-500\">Format: JPG, PNG, GIF. Maks 2MB.</p>\r\n                     {form.formState.errors.imageUrl && <p className=\"text-xs text-rose-500 mt-1\">{form.formState.errors.imageUrl.message}</p>}\r\n                  </div>\r\n               </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"title\" className=\"text-sm font-semibold text-slate-700\">Judul Artikel <span className=\"text-rose-500\">*</span></Label>\r\n              <Input id=\"title\" {...form.register(\"title\")} placeholder=\"Judul yang menarik...\" className=\"h-10 text-lg font-medium\" />\r\n              {form.formState.errors.title && <p className=\"text-xs text-rose-500\">{form.formState.errors.title.message}</p>}\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4\">\r\n               <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"category\" className=\"text-sm font-semibold text-slate-700\">Kategori <span className=\"text-rose-500\">*</span></Label>\r\n                  <Select \r\n                    onValueChange={(val) => form.setValue(\"category\", val)} \r\n                    defaultValue={form.getValues(\"category\")}\r\n                  >\r\n                    <SelectTrigger className=\"h-10\">\r\n                      <SelectValue placeholder=\"Pilih kategori\" />\r\n                    </SelectTrigger>\r\n                    <SelectContent>\r\n                      <SelectItem value=\"Dakwah\">Dakwah</SelectItem>\r\n                      <SelectItem value=\"Berita\">Berita</SelectItem>\r\n                      <SelectItem value=\"Lifestyle\">Lifestyle</SelectItem>\r\n                      <SelectItem value=\"Opini\">Opini</SelectItem>\r\n                    </SelectContent>\r\n                  </Select>\r\n                  {form.formState.errors.category && <p className=\"text-xs text-rose-500\">{form.formState.errors.category.message}</p>}\r\n               </div>\r\n               <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"date\" className=\"text-sm font-semibold text-slate-700\">Tanggal Publikasi <span className=\"text-rose-500\">*</span></Label>\r\n                  <Input id=\"date\" type=\"date\" {...form.register(\"date\")} className=\"h-10\" />\r\n                  {form.formState.errors.date && <p className=\"text-xs text-rose-500\">{form.formState.errors.date.message}</p>}\r\n               </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"excerpt\" className=\"text-sm font-semibold text-slate-700\">Ringkasan (Excerpt) <span className=\"text-rose-500\">*</span></Label>\r\n              <Textarea id=\"excerpt\" {...form.register(\"excerpt\")} rows={2} placeholder=\"Ringkasan singkat untuk kartu artikel...\" />\r\n              {form.formState.errors.excerpt && <p className=\"text-xs text-rose-500\">{form.formState.errors.excerpt.message}</p>}\r\n            </div>\r\n\r\n             <div className=\"space-y-2\">\r\n              <Label className=\"text-sm font-semibold text-slate-700\">Konten Lengkap</Label>\r\n               <Controller\r\n                control={form.control}\r\n                name=\"content\" \r\n                render={({ field }) => (\r\n                  <RichTextEditor \r\n                    value={field.value || \"\"} \r\n                    onChange={field.onChange} \r\n                    placeholder=\"Tulis artikel lengkap di sini...\"\r\n                  />\r\n                )}\r\n              />\r\n            </div>\r\n\r\n            <div className=\"grid grid-cols-2 gap-4 bg-slate-50 p-4 rounded-lg border border-slate-100\">\r\n               <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"authorName\" className=\"text-sm font-semibold text-slate-700\">Nama Penulis <span className=\"text-rose-500\">*</span></Label>\r\n                  <Input id=\"authorName\" {...form.register(\"authorName\")} className=\"bg-white\" />\r\n                  {form.formState.errors.authorName && <p className=\"text-xs text-rose-500\">{form.formState.errors.authorName.message}</p>}\r\n               </div>\r\n               <div className=\"space-y-2\">\r\n                  <Label htmlFor=\"authorRole\" className=\"text-sm font-semibold text-slate-700\">Peran Penulis <span className=\"text-rose-500\">*</span></Label>\r\n                  <Input id=\"authorRole\" {...form.register(\"authorRole\")} className=\"bg-white\" />\r\n               </div>\r\n            </div>\r\n\r\n            <DialogFooter className=\"pt-4\">\r\n              <Button type=\"button\" variant=\"outline\" onClick={() => setIsDialogOpen(false)} disabled={isSubmitting} className=\"h-10 px-6\">Batal</Button>\r\n              <Button type=\"submit\" disabled={isSubmitting} className=\"bg-emerald-600 hover:bg-emerald-700 text-white h-10 px-6 shadow-md shadow-emerald-100\">\r\n                {isSubmitting ? (\r\n                   <>\r\n                     <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                     Menyimpan...\r\n                   </>\r\n                ) : (\r\n                   \"Simpan Publikasi\"\r\n                )}\r\n              </Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* Delete Confirmation Alert */}\r\n      <AlertDialog open={isDeleteOpen} onOpenChange={setIsDeleteOpen}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle className=\"text-rose-600\">Hapus Artikel?</AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              Apakah Anda yakin ingin menghapus artikel ini? Data yang dihapus tidak dapat dikembalikan.\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel>Batal</AlertDialogCancel>\r\n            <AlertDialogAction onClick={handleDelete} className=\"bg-rose-600 hover:bg-rose-700 text-white border-none\">\r\n               Ya, Hapus\r\n            </AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\admin\\countdown\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\admin\\donasi\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'DonationValues' is defined but never used.","line":25,"column":6,"nodeType":"Identifier","messageId":"unusedVar","endLine":25,"endColumn":20},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":63,"column":41,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":63,"endColumn":44,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[2107,2110],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[2107,2110],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport * as z from \"zod\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { toast } from \"sonner\";\r\nimport { Separator } from \"@/components/ui/separator\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getDonationSettings, updateDonationSettings } from \"@/app/actions/donations\";\r\nimport { defaultDonation } from \"@/data\";\r\nimport { Loader2 } from \"lucide-react\";\r\n\r\nconst donationSchema = z.object({\r\n  bankName: z.string().min(2, \"Nama bank minimal 2 karakter\"),\r\n  accountNumber: z.string().min(5, \"Nomor rekening minimal 5 karakter\"),\r\n  holderName: z.string().min(2, \"Atas nama minimal 2 karakter\"),\r\n  goalAmount: z.coerce.number().min(0),\r\n  currentAmount: z.coerce.number().min(0),\r\n});\r\n\r\ntype DonationValues = z.infer<typeof donationSchema>;\r\n\r\nexport default function DonationAdminPage() {\r\n  const [loading, setLoading] = useState(true);\r\n  const [saving, setSaving] = useState(false);\r\n\r\n  const donationForm = useForm({\r\n    resolver: zodResolver(donationSchema),\r\n    defaultValues: {\r\n      bankName: \"\",\r\n      accountNumber: \"\",\r\n      holderName: \"\",\r\n      goalAmount: 0,\r\n      currentAmount: 0,\r\n    },\r\n  });\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const data = await getDonationSettings();\r\n        if (data) {\r\n          donationForm.reset(data);\r\n        } else {\r\n          // Fallback to default if no data in DB yet\r\n          donationForm.reset(defaultDonation);\r\n          // Optional: toast.info(\"Menggunakan data default application\");\r\n        }\r\n      } catch (error) {\r\n        console.error(error);\r\n        toast.error(\"Gagal memuat data donasi\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, [donationForm]);\r\n\r\n  const onDonationSubmit = async (data: any) => {\r\n    try {\r\n      setSaving(true);\r\n      await updateDonationSettings(data);\r\n      toast.success(\"Informasi donasi berhasil diperbarui\");\r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error(\"Gagal menyimpan perubahan\");\r\n    } finally {\r\n      setSaving(false);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"flex justify-center items-center h-40\">\r\n        <Loader2 className=\"w-8 h-8 animate-spin text-emerald-600\" />\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-6 w-full max-w-6xl\">\r\n      <div>\r\n        <h1 className=\"text-3xl font-bold text-slate-900 tracking-tight\">Manajemen Donasi</h1>\r\n        <p className=\"text-slate-500 mt-1\">Atur informasi rekening dan target donasi masjid.</p>\r\n      </div>\r\n\r\n      <Card className=\"border-slate-200 shadow-sm\">\r\n        <CardHeader>\r\n          <CardTitle>Rekening & Target</CardTitle>\r\n          <CardDescription>Informasi ini akan ditampilkan pada widget donasi di halaman utama.</CardDescription>\r\n        </CardHeader>\r\n        <CardContent>\r\n          <form onSubmit={donationForm.handleSubmit(onDonationSubmit)} className=\"space-y-6\">\r\n             <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div className=\"space-y-2\">\r\n                   <Label htmlFor=\"bankName\">Nama Bank</Label>\r\n                   <Input id=\"bankName\" placeholder=\"Contoh: Bank Syariah Indonesia\" {...donationForm.register(\"bankName\")} />\r\n                   {donationForm.formState.errors.bankName && <p className=\"text-xs text-rose-500\">{donationForm.formState.errors.bankName.message}</p>}\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                   <Label htmlFor=\"accountNumber\">Nomor Rekening</Label>\r\n                   <Input id=\"accountNumber\" placeholder=\"Contoh: 1234567890\" {...donationForm.register(\"accountNumber\")} />\r\n                   {donationForm.formState.errors.accountNumber && <p className=\"text-xs text-rose-500\">{donationForm.formState.errors.accountNumber.message}</p>}\r\n                </div>\r\n             </div>\r\n             \r\n             <div className=\"space-y-2\">\r\n                <Label htmlFor=\"holderName\">Atas Nama</Label>\r\n                <Input id=\"holderName\" placeholder=\"Contoh: DKM Masjid Al Arqam\" {...donationForm.register(\"holderName\")} />\r\n                {donationForm.formState.errors.holderName && <p className=\"text-xs text-rose-500\">{donationForm.formState.errors.holderName.message}</p>}\r\n             </div>\r\n\r\n             <Separator />\r\n\r\n             <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div className=\"space-y-2\">\r\n                   <Label htmlFor=\"goalAmount\">Target Donasi (Rp)</Label>\r\n                   <Input id=\"goalAmount\" type=\"number\" {...donationForm.register(\"goalAmount\")} />\r\n                   <p className=\"text-[0.8rem] text-slate-500\">Target total dana yang ingin dicapai.</p>\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                   <Label htmlFor=\"currentAmount\">Terkumpul Saat Ini (Rp)</Label>\r\n                   <Input id=\"currentAmount\" type=\"number\" {...donationForm.register(\"currentAmount\")} />\r\n                   <p className=\"text-[0.8rem] text-slate-500\">Jumlah dana yang sudah masuk, update secara berkala.</p>\r\n                </div>\r\n             </div>\r\n\r\n             <div className=\"flex justify-start pt-4\">\r\n                <Button type=\"submit\" className=\"bg-emerald-600 hover:bg-emerald-700 text-white min-w-[150px]\" disabled={saving}>\r\n                   {saving ? (\r\n                      <>\r\n                        <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                        Menyimpan...\r\n                      </>\r\n                   ) : (\r\n                      \"Simpan Perubahan\"\r\n                   )}\r\n                </Button>\r\n             </div>\r\n          </form>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\admin\\galeri\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":57,"column":14,"nodeType":"Identifier","messageId":"unusedVar","endLine":57,"endColumn":19},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":197,"column":37,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":197,"endColumn":40,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6431,6434],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6431,6434],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'error' is defined but never used.","line":213,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":213,"endColumn":21},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":257,"column":18,"nodeType":"JSXOpeningElement","endLine":257,"endColumn":94},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":309,"column":25,"nodeType":"JSXOpeningElement","endLine":309,"endColumn":102}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogDescription, DialogFooter } from \"@/components/ui/dialog\";\r\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle } from \"@/components/ui/alert-dialog\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Plus, Trash2, Search, Image as ImageIcon, Heart, Pencil, Loader2 } from \"lucide-react\";\r\nimport { GalleryItem, GalleryCategory } from \"@/types\";\r\nimport { useForm } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport * as z from \"zod\";\r\nimport { toast } from \"sonner\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { createClient } from \"@/lib/supabase/client\";\r\nimport { createGallery, deleteGallery, getGalleries } from \"@/app/actions/gallery\";\r\nimport { updateGallery } from \"@/app/actions/gallery-update\";\r\n\r\n// Schema Validation\r\nconst formSchema = z.object({\r\n  src: z.string().optional(), // Make optional because we might just have a file\r\n  alt: z.string().min(1, \"Alt text wajib diisi\"),\r\n  caption: z.string().min(1, \"Caption wajib diisi\"),\r\n  category: z.enum([\"kajian\", \"santunan\", \"outdoor\", \"festive\"]),\r\n});\r\n\r\ntype FormValues = z.infer<typeof formSchema>;\r\n\r\nexport default function GalleryAdminPage() {\r\n  const [dataList, setDataList] = useState<GalleryItem[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isSubmitting, setIsSubmitting] = useState(false);\r\n  const [searchQuery, setSearchQuery] = useState(\"\");\r\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\r\n  const [editingId, setEditingId] = useState<string | null>(null);\r\n  \r\n  // File Upload State\r\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\r\n  const [previewUrl, setPreviewUrl] = useState<string>(\"\");\r\n\r\n  // Delete State\r\n  const [deleteId, setDeleteId] = useState<string | null>(null);\r\n  const [isDeleteOpen, setIsDeleteOpen] = useState(false);\r\n\r\n  // Fetch Data\r\n  useEffect(() => {\r\n    loadData();\r\n  }, []);\r\n\r\n  async function loadData() {\r\n    setIsLoading(true);\r\n    try {\r\n      const data = await getGalleries();\r\n      setDataList(data);\r\n    } catch (error) {\r\n      toast.error(\"Gagal memuat data galeri\");\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  }\r\n\r\n  // Filter\r\n  const filteredData = dataList.filter((item) => \r\n    item.alt.toLowerCase().includes(searchQuery.toLowerCase()) ||\r\n    item.caption.toLowerCase().includes(searchQuery.toLowerCase())\r\n  );\r\n\r\n  // Form handling\r\n  const form = useForm<FormValues>({\r\n    resolver: zodResolver(formSchema),\r\n    defaultValues: {\r\n      src: \"\",\r\n      alt: \"\",\r\n      caption: \"\",\r\n      category: \"kajian\",\r\n    },\r\n  });\r\n\r\n  // Handle File Selection\r\n  const handleFileSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = e.target.files?.[0];\r\n    if (file) {\r\n      setSelectedFile(file);\r\n      const url = URL.createObjectURL(file);\r\n      setPreviewUrl(url);\r\n      form.setValue(\"src\", url); // Just for validation/preview\r\n    }\r\n  };\r\n\r\n  const uploadImage = async (file: File) => {\r\n    const supabase = createClient();\r\n    \r\n    // 1. Compress Image\r\n    let fileToUpload = file;\r\n    try {\r\n      // Dynamic import to avoid SSR issues if any, though likely fine in client comp\r\n      const imageCompression = (await import('browser-image-compression')).default;\r\n      \r\n      const options = {\r\n        maxSizeMB: 0.8,          // target max size\r\n        maxWidthOrHeight: 1920,  // max resolution\r\n        useWebWorker: true,\r\n      };\r\n      \r\n      fileToUpload = await imageCompression(file, options);\r\n      \r\n    } catch (err) {\r\n      console.warn(\"Image compression failed, using original file\", err);\r\n    }\r\n\r\n    const fileExt = fileToUpload.name.split('.').pop();\r\n    const fileName = `${Math.random()}.${fileExt}`;\r\n    const filePath = `${fileName}`;\r\n\r\n    const { error: uploadError } = await supabase.storage\r\n      .from('images')\r\n      .upload(filePath, fileToUpload);\r\n\r\n    if (uploadError) {\r\n      throw uploadError;\r\n    }\r\n\r\n    const { data } = supabase.storage.from('images').getPublicUrl(filePath);\r\n    return data.publicUrl;\r\n  };\r\n\r\n  const onSubmit = async (data: FormValues) => {\r\n    setIsSubmitting(true);\r\n    try {\r\n      let finalImageUrl = data.src || \"\";\r\n\r\n      // 1. Upload Image (if new file selected)\r\n      if (selectedFile) {\r\n        finalImageUrl = await uploadImage(selectedFile);\r\n      }\r\n\r\n      // 2. Save to DB\r\n      if (editingId) {\r\n         // Update\r\n         await updateGallery({\r\n            id: editingId,\r\n            src: finalImageUrl,\r\n            alt: data.alt,\r\n            caption: data.caption,\r\n            category: data.category as GalleryCategory,\r\n            likes: dataList.find(g => g.id === editingId)?.likes || 0\r\n         });\r\n         toast.success(\"Foto berhasil diperbarui\");\r\n      } else {\r\n         // Create\r\n         if (!finalImageUrl) throw new Error(\"Gambar wajib diupload\");\r\n         \r\n         await createGallery({\r\n           src: finalImageUrl,\r\n           alt: data.alt,\r\n           caption: data.caption,\r\n           category: data.category as GalleryCategory,\r\n         });\r\n         toast.success(\"Foto baru berhasil ditambahkan\");\r\n      }\r\n      \r\n      // 3. Reset & Refresh\r\n      setIsDialogOpen(false);\r\n      resetForm();\r\n      await loadData();\r\n      \r\n    } catch (error) {\r\n      console.error(error);\r\n      toast.error(\"Terjadi kesalahan saat menyimpan\");\r\n    } finally {\r\n      setIsSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const resetForm = () => {\r\n    setEditingId(null);\r\n    setSelectedFile(null);\r\n    setPreviewUrl(\"\");\r\n    form.reset({\r\n      src: \"\",\r\n      alt: \"\",\r\n      caption: \"\",\r\n      category: \"kajian\",\r\n    });\r\n  };\r\n\r\n  const handleEdit = (item: GalleryItem) => {\r\n      setEditingId(item.id);\r\n      setPreviewUrl(item.src); // Show existing image\r\n      setSelectedFile(null); // No new file yet\r\n      form.reset({\r\n         src: item.src,\r\n         alt: item.alt,\r\n         caption: item.caption,\r\n         category: item.category as any,\r\n      });\r\n      setIsDialogOpen(true);\r\n  };\r\n\r\n  const confirmDelete = (id: string) => {\r\n    setDeleteId(id);\r\n    setIsDeleteOpen(true);\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    if (deleteId) {\r\n      try {\r\n        await deleteGallery(deleteId);\r\n        toast.success(\"Foto berhasil dihapus\");\r\n        await loadData();\r\n      } catch (error) {\r\n        toast.error(\"Gagal menghapus foto\");\r\n      } finally {\r\n         setIsDeleteOpen(false);\r\n         setDeleteId(null);\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      <div className=\"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4\">\r\n        <div>\r\n          <h1 className=\"text-3xl font-bold text-slate-900 tracking-tight\">Manajemen Galeri</h1>\r\n          <p className=\"text-slate-500 mt-1\">Upload dan kelola dokumentasi kegiatan.</p>\r\n        </div>\r\n        <Button onClick={() => { resetForm(); setIsDialogOpen(true); }} className=\"bg-emerald-600 hover:bg-emerald-700 text-white\">\r\n          <Plus className=\"w-4 h-4 mr-2\" />\r\n          Upload Foto\r\n        </Button>\r\n      </div>\r\n\r\n      {/* Toolbar */}\r\n      <div className=\"flex items-center gap-4 max-w-sm\">\r\n        <div className=\"relative w-full\">\r\n          <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-slate-400\" />\r\n          <Input \r\n            placeholder=\"Cari foto...\" \r\n            className=\"pl-9 bg-white border-slate-200\"\r\n            value={searchQuery}\r\n            onChange={(e) => setSearchQuery(e.target.value)}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {isLoading ? (\r\n        <div className=\"flex items-center justify-center py-20\">\r\n          <Loader2 className=\"w-8 h-8 animate-spin text-emerald-600\" />\r\n        </div>\r\n      ) : (\r\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\r\n          {filteredData.map((item) => (\r\n            <div key={item.id} className=\"group relative bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden hover:shadow-md transition-shadow\">\r\n              <div className=\"relative aspect-square bg-slate-100\">\r\n                 <img src={item.src} alt={item.alt} className=\"w-full h-full object-cover\" />\r\n                 \r\n                 {/* Overlay Actions */}\r\n                 <div className=\"absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-2\">\r\n                     <Button variant=\"secondary\" size=\"sm\" onClick={() => handleEdit(item)} className=\"shadow-lg hover:bg-emerald-50 hover:text-emerald-600\">\r\n                       <Pencil className=\"w-4 h-4\" />\r\n                    </Button>\r\n                    <Button variant=\"destructive\" size=\"sm\" onClick={() => confirmDelete(item.id)} className=\"shadow-lg\">\r\n                       <Trash2 className=\"w-4 h-4\" />\r\n                    </Button>\r\n                 </div>\r\n              </div>\r\n              <div className=\"p-4\">\r\n                 <div className=\"flex justify-between items-start mb-2\">\r\n                    <Badge variant=\"outline\" className=\"text-[10px] uppercase\">{item.category}</Badge>\r\n                    <div className=\"flex items-center text-slate-400 text-xs\">\r\n                       <Heart className=\"w-3 h-3 mr-1 fill-current\" />\r\n                       {item.likes}\r\n                    </div>\r\n                 </div>\r\n                 <h3 className=\"font-semibold text-slate-900 line-clamp-1 text-sm mb-1\">{item.alt}</h3>\r\n                 <p className=\"text-xs text-slate-500 line-clamp-2\">{item.caption}</p>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n      \r\n      {!isLoading && filteredData.length === 0 && (\r\n         <div className=\"text-center py-12 text-slate-500 border border-dashed border-slate-200 rounded-xl bg-slate-50\">\r\n            <ImageIcon className=\"w-10 h-10 mx-auto text-slate-300 mb-2\" />\r\n            <p>Tidak ada foto ditemukan.</p>\r\n         </div>\r\n      )}\r\n\r\n      {/* Dialog Form */}\r\n      <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\r\n        <DialogContent className=\"sm:max-w-[500px]\">\r\n          <DialogHeader>\r\n            <DialogTitle>{editingId ? \"Edit Foto\" : \"Upload Foto Baru\"}</DialogTitle>\r\n            <DialogDescription>\r\n              {editingId ? \"Perbarui detail foto dokumentasi.\" : \"Tambahkan foto dokumentasi kegiatan terbaru.\"}\r\n            </DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4 py-4\">\r\n            \r\n            <div className=\"space-y-2\">\r\n              <Label className=\"text-sm font-semibold text-slate-700\">Foto Dokumentasi <span className=\"text-rose-500\">*</span></Label>\r\n              <div className=\"flex items-start gap-4\">\r\n                  <div className=\"w-24 h-24 bg-slate-100 rounded-lg border-2 border-dashed border-slate-300 flex items-center justify-center overflow-hidden relative group\">\r\n                      {previewUrl ? (\r\n                        <img src={previewUrl} alt=\"Preview\" className=\"w-full h-full object-cover\" />\r\n                      ) : (\r\n                        <ImageIcon className=\"w-8 h-8 text-slate-400\" />\r\n                      )}\r\n                  </div>\r\n                  <div className=\"flex-1\">\r\n                      <Input \r\n                        id=\"imageUpload\" \r\n                        type=\"file\" \r\n                        accept=\"image/*\" \r\n                        onChange={handleFileSelect}\r\n                        className=\"cursor-pointer file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-xs file:font-semibold file:bg-emerald-50 file:text-emerald-700 hover:file:bg-emerald-100 mb-2\" \r\n                      />\r\n                      <p className=\"text-xs text-slate-500\">Format: JPG, PNG. Maks 5MB.</p>\r\n                  </div>\r\n              </div>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"alt\">Judul Foto (Alt Text)</Label>\r\n              <Input id=\"alt\" {...form.register(\"alt\")} placeholder=\"Judul singkat...\" />\r\n              {form.formState.errors.alt && <p className=\"text-xs text-rose-500\">{form.formState.errors.alt.message}</p>}\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"category\">Kategori</Label>\r\n              <Select \r\n                onValueChange={(val) => form.setValue(\"category\", val as GalleryCategory)} \r\n                defaultValue={form.getValues(\"category\")}\r\n              >\r\n                <SelectTrigger>\r\n                  <SelectValue placeholder=\"Pilih kategori\" />\r\n                </SelectTrigger>\r\n                <SelectContent>\r\n                  <SelectItem value=\"kajian\">Kajian</SelectItem>\r\n                  <SelectItem value=\"santunan\">Santunan</SelectItem>\r\n                  <SelectItem value=\"outdoor\">Outdoor</SelectItem>\r\n                  <SelectItem value=\"festive\">Festive</SelectItem>\r\n                </SelectContent>\r\n              </Select>\r\n            </div>\r\n\r\n            <div className=\"space-y-2\">\r\n              <Label htmlFor=\"caption\">Caption</Label>\r\n              <Input id=\"caption\" {...form.register(\"caption\")} placeholder=\"Keterangan foto...\" />\r\n              {form.formState.errors.caption && <p className=\"text-xs text-rose-500\">{form.formState.errors.caption.message}</p>}\r\n            </div>\r\n\r\n            <DialogFooter>\r\n              <Button type=\"button\" variant=\"outline\" onClick={() => setIsDialogOpen(false)} disabled={isSubmitting}>Batal</Button>\r\n              <Button type=\"submit\" className=\"bg-emerald-600 hover:bg-emerald-700 text-white\" disabled={isSubmitting}>\r\n                {isSubmitting ? (\r\n                   <>\r\n                     <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\r\n                     {editingId ? \"Menyimpan...\" : \"Mengupload...\"}\r\n                   </>\r\n                ) : (\r\n                   editingId ? \"Simpan Perubahan\" : \"Upload\"\r\n                )}\r\n              </Button>\r\n            </DialogFooter>\r\n          </form>\r\n        </DialogContent>\r\n      </Dialog>\r\n      \r\n      {/* Delete Confirmation Alert */}\r\n      <AlertDialog open={isDeleteOpen} onOpenChange={setIsDeleteOpen}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle className=\"text-rose-600\">Hapus Foto?</AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              Apakah Anda yakin ingin menghapus foto ini? Tindakan ini tidak dapat dibatalkan.\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel>Batal</AlertDialogCancel>\r\n            <AlertDialogAction onClick={handleDelete} className=\"bg-rose-600 hover:bg-rose-700 text-white border-none\">\r\n               Ya, Hapus\r\n            </AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\admin\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\admin\\page.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":27,"column":83,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[827,877],"text":"Ringkasan aktivitas website Masjid Jami&apos; Al Arqam."},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[827,877],"text":"Ringkasan aktivitas website Masjid Jami&lsquo; Al Arqam."},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[827,877],"text":"Ringkasan aktivitas website Masjid Jami&#39; Al Arqam."},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[827,877],"text":"Ringkasan aktivitas website Masjid Jami&rsquo; Al Arqam."},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"@next/next/no-img-element","severity":1,"message":"Using `<img>` could result in slower LCP and higher bandwidth. Consider using `<Image />` from `next/image` or a custom image loader to automatically optimize images. This may incur additional usage or cost from your provider. See: https://nextjs.org/docs/messages/no-img-element","line":126,"column":31,"nodeType":"JSXOpeningElement","endLine":126,"endColumn":120}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { \r\n  Calendar, \r\n  FileText, \r\n  Image as ImageIcon, \r\n  ArrowUpRight,\r\n  TrendingUp,\r\n  Activity\r\n} from \"lucide-react\";\r\nimport { useAdmin } from \"@/context/AdminContext\";\r\n\r\nexport default function AdminDashboardPage() {\r\n  const { events, articles, galleries } = useAdmin();\r\n\r\n  // Calculate specific stats\r\n  const totalEvents = events.length;\r\n  const upcomingEvents = events.filter(e => new Date(e.date) > new Date()).length;\r\n  const totalArticles = articles.length;\r\n  const totalGallery = galleries.length;\r\n\r\n  return (\r\n    <div className=\"space-y-8\">\r\n      <div>\r\n        <h1 className=\"text-3xl font-bold text-slate-900 tracking-tight\">Dashboard Overview</h1>\r\n        <p className=\"text-slate-500 mt-2\">Ringkasan aktivitas website Masjid Jami' Al Arqam.</p>\r\n      </div>\r\n\r\n      {/* Stats Grid */}\r\n      <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\">\r\n        \r\n        {/* Agenda Stat */}\r\n        <Card className=\"border-slate-200 shadow-sm hover:shadow-md transition-shadow\">\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium text-slate-500\">Total Agenda</CardTitle>\r\n            <Calendar className=\"h-4 w-4 text-emerald-600\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-slate-900\">{totalEvents}</div>\r\n            <p className=\"text-xs text-slate-500 mt-1 flex items-center\">\r\n               <span className=\"text-emerald-600 font-bold mr-1\">{upcomingEvents}</span> akan datang\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Article Stat */}\r\n        <Card className=\"border-slate-200 shadow-sm hover:shadow-md transition-shadow\">\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium text-slate-500\">Artikel Terbit</CardTitle>\r\n            <FileText className=\"h-4 w-4 text-blue-600\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-slate-900\">{totalArticles}</div>\r\n            <p className=\"text-xs text-emerald-600 mt-1 flex items-center font-medium\">\r\n               <TrendingUp className=\"w-3 h-3 mr-1\" /> +2 minggu ini\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Gallery Stat */}\r\n        <Card className=\"border-slate-200 shadow-sm hover:shadow-md transition-shadow\">\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium text-slate-500\">Total Foto</CardTitle>\r\n            <ImageIcon className=\"h-4 w-4 text-rose-600\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-slate-900\">{totalGallery}</div>\r\n            <p className=\"text-xs text-slate-500 mt-1\">Dokumentasi kegiatan</p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Visitors (Mock) */}\r\n        <Card className=\"border-slate-200 shadow-sm hover:shadow-md transition-shadow\">\r\n          <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\r\n            <CardTitle className=\"text-sm font-medium text-slate-500\">Pengunjung</CardTitle>\r\n            <Activity className=\"h-4 w-4 text-amber-600\" />\r\n          </CardHeader>\r\n          <CardContent>\r\n            <div className=\"text-2xl font-bold text-slate-900\">1,248</div>\r\n            <p className=\"text-xs text-emerald-600 mt-1 flex items-center font-medium\">\r\n               <ArrowUpRight className=\"w-3 h-3 mr-1\" /> +12% bulan ini\r\n            </p>\r\n          </CardContent>\r\n        </Card>\r\n\r\n      </div>\r\n\r\n      {/* Recent Activity Section */}\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-8\">\r\n         <Card className=\"col-span-1 border-slate-200 shadow-sm\">\r\n            <CardHeader>\r\n               <CardTitle>Agenda Terdekat</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n               <div className=\"space-y-4\">\r\n                  {events.slice(0, 3).map((event) => (\r\n                     <div key={event.id} className=\"flex items-center justify-between p-4 bg-slate-50 rounded-xl border border-slate-100\">\r\n                        <div>\r\n                           <h4 className=\"font-semibold text-slate-900\">{event.title}</h4>\r\n                           <p className=\"text-sm text-slate-500\">{event.date}  {event.location}</p>\r\n                        </div>\r\n                        <div className={`px-3 py-1 rounded-full text-xs font-bold uppercase ${\r\n                           event.category === 'kajian' ? 'bg-emerald-100 text-emerald-700' : \r\n                           event.category === 'olahraga' ? 'bg-blue-100 text-blue-700' : 'bg-slate-200 text-slate-700'\r\n                        }`}>\r\n                           {event.category}\r\n                        </div>\r\n                     </div>\r\n                  ))}\r\n               </div>\r\n            </CardContent>\r\n         </Card>\r\n\r\n         <Card className=\"col-span-1 border-slate-200 shadow-sm\">\r\n            <CardHeader>\r\n               <CardTitle>Artikel Terbaru</CardTitle>\r\n            </CardHeader>\r\n            <CardContent>\r\n               <div className=\"space-y-4\">\r\n                  {articles.slice(0, 3).map((article) => (\r\n                     <div key={article.id} className=\"flex gap-4 items-center group cursor-pointer hover:bg-slate-50 p-2 -mx-2 rounded-xl transition-colors\">\r\n                        <div className=\"w-16 h-16 bg-slate-200 rounded-lg overflow-hidden relative shrink-0\">\r\n                           {/* Placeholder for image */}\r\n                           {article.imageUrl ? (\r\n                              <img src={article.imageUrl} alt={article.title} className=\"w-full h-full object-cover\" />\r\n                           ) : (\r\n                              <div className=\"absolute inset-0 bg-slate-300\" />\r\n                           )}\r\n                        </div>\r\n                        <div>\r\n                           <h4 className=\"font-semibold text-slate-900 group-hover:text-emerald-600 transition-colors line-clamp-1\">{article.title}</h4>\r\n                           <p className=\"text-sm text-slate-500\">{article.date}  {article.author.name}</p>\r\n                        </div>\r\n                     </div>\r\n                  ))}\r\n               </div>\r\n            </CardContent>\r\n         </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\admin\\profile\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Calendar' is defined but never used.","line":2,"column":34,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":42,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Calendar"},"fix":{"range":[84,94],"text":""},"desc":"Remove unused variable \"Calendar\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { getProfile } from \"@/app/actions/profile\";\r\nimport { UserCircle, Mail, Hash, Calendar } from \"lucide-react\";\r\n\r\nexport default async function AdminProfilePage() {\r\n  const profile = await getProfile();\r\n\r\n  if (!profile) return <div>Profil tidak ditemukan</div>;\r\n\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <h1 className=\"text-3xl font-bold font-heading text-slate-900\">Profil Admin</h1>\r\n      </div>\r\n\r\n      <div className=\"bg-white rounded-xl border border-slate-200 shadow-sm overflow-hidden\">\r\n        <div className=\"h-32 bg-emerald-600 relative\">\r\n             <div className=\"absolute -bottom-12 left-8\">\r\n                <div className=\"w-24 h-24 rounded-full bg-white p-1\">\r\n                    <div className=\"w-full h-full rounded-full bg-slate-100 flex items-center justify-center text-slate-400\">\r\n                        <UserCircle className=\"w-12 h-12\" />\r\n                    </div>\r\n                </div>\r\n             </div>\r\n        </div>\r\n        \r\n        <div className=\"pt-16 pb-8 px-8\">\r\n            <h2 className=\"text-2xl font-bold text-slate-900\">{profile.full_name}</h2>\r\n            <p className=\"text-slate-500 font-medium\">@{profile.username}</p>\r\n\r\n            <div className=\"mt-8 grid grid-cols-1 md:grid-cols-2 gap-6\">\r\n                <div className=\"p-4 rounded-lg bg-slate-50 border border-slate-100\">\r\n                    <div className=\"flex items-center gap-3 mb-2 text-slate-500 text-sm font-medium\">\r\n                        <Mail className=\"w-4 h-4\" />\r\n                        Email Address\r\n                    </div>\r\n                    <p className=\"text-slate-900 font-medium\">{profile.email}</p>\r\n                </div>\r\n\r\n                <div className=\"p-4 rounded-lg bg-slate-50 border border-slate-100\">\r\n                    <div className=\"flex items-center gap-3 mb-2 text-slate-500 text-sm font-medium\">\r\n                        <Hash className=\"w-4 h-4\" />\r\n                        Admin ID\r\n                    </div>\r\n                    <p className=\"text-slate-900 font-mono text-sm\">{profile.id}</p>\r\n                </div>\r\n            </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\admin\\settings\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\admin\\settings\\settings-form.tsx","messages":[{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":134,"column":44,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6089,6202],"text":"\r\n                    Masukan URL dari fitur &quot;Embed a map\" atau \"Sematkan peta\" di Google Maps.\r\n                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6089,6202],"text":"\r\n                    Masukan URL dari fitur &ldquo;Embed a map\" atau \"Sematkan peta\" di Google Maps.\r\n                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6089,6202],"text":"\r\n                    Masukan URL dari fitur &#34;Embed a map\" atau \"Sematkan peta\" di Google Maps.\r\n                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6089,6202],"text":"\r\n                    Masukan URL dari fitur &rdquo;Embed a map\" atau \"Sematkan peta\" di Google Maps.\r\n                "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":134,"column":56,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6089,6202],"text":"\r\n                    Masukan URL dari fitur \"Embed a map&quot; atau \"Sematkan peta\" di Google Maps.\r\n                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6089,6202],"text":"\r\n                    Masukan URL dari fitur \"Embed a map&ldquo; atau \"Sematkan peta\" di Google Maps.\r\n                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6089,6202],"text":"\r\n                    Masukan URL dari fitur \"Embed a map&#34; atau \"Sematkan peta\" di Google Maps.\r\n                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6089,6202],"text":"\r\n                    Masukan URL dari fitur \"Embed a map&rdquo; atau \"Sematkan peta\" di Google Maps.\r\n                "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":134,"column":63,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6089,6202],"text":"\r\n                    Masukan URL dari fitur \"Embed a map\" atau &quot;Sematkan peta\" di Google Maps.\r\n                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6089,6202],"text":"\r\n                    Masukan URL dari fitur \"Embed a map\" atau &ldquo;Sematkan peta\" di Google Maps.\r\n                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6089,6202],"text":"\r\n                    Masukan URL dari fitur \"Embed a map\" atau &#34;Sematkan peta\" di Google Maps.\r\n                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6089,6202],"text":"\r\n                    Masukan URL dari fitur \"Embed a map\" atau &rdquo;Sematkan peta\" di Google Maps.\r\n                "},"desc":"Replace with `&rdquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`\"` can be escaped with `&quot;`, `&ldquo;`, `&#34;`, `&rdquo;`.","line":134,"column":77,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&quot;"},"fix":{"range":[6089,6202],"text":"\r\n                    Masukan URL dari fitur \"Embed a map\" atau \"Sematkan peta&quot; di Google Maps.\r\n                "},"desc":"Replace with `&quot;`."},{"messageId":"replaceWithAlt","data":{"alt":"&ldquo;"},"fix":{"range":[6089,6202],"text":"\r\n                    Masukan URL dari fitur \"Embed a map\" atau \"Sematkan peta&ldquo; di Google Maps.\r\n                "},"desc":"Replace with `&ldquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#34;"},"fix":{"range":[6089,6202],"text":"\r\n                    Masukan URL dari fitur \"Embed a map\" atau \"Sematkan peta&#34; di Google Maps.\r\n                "},"desc":"Replace with `&#34;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rdquo;"},"fix":{"range":[6089,6202],"text":"\r\n                    Masukan URL dari fitur \"Embed a map\" atau \"Sematkan peta&rdquo; di Google Maps.\r\n                "},"desc":"Replace with `&rdquo;`."}]}],"suppressedMessages":[],"errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useForm } from \"react-hook-form\";\r\nimport { zodResolver } from \"@hookform/resolvers/zod\";\r\nimport * as z from \"zod\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { toast } from \"sonner\";\r\nimport { SiteSettings, updateSiteSettings } from \"@/app/actions/settings\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { Loader2 } from \"lucide-react\";\r\n\r\nconst settingsSchema = z.object({\r\n  site_name: z.string().min(2, \"Nama website minimal 2 karakter\"),\r\n  tagline: z.string().optional(),\r\n  description: z.string().optional(),\r\n  address: z.string().optional(),\r\n  phone: z.string().optional(),\r\n  email: z.string().email(\"Email tidak valid\").optional().or(z.literal(\"\")),\r\n  whatsapp: z.string().optional(),\r\n  instagram: z.string().optional(),\r\n  facebook: z.string().optional(),\r\n  youtube: z.string().optional(),\r\n  map_url: z.string().optional(),\r\n});\r\n\r\ntype SettingsValues = z.infer<typeof settingsSchema>;\r\n\r\ninterface SettingsFormProps {\r\n  initialData: SiteSettings | null;\r\n}\r\n\r\nexport function SettingsForm({ initialData }: SettingsFormProps) {\r\n  const router = useRouter();\r\n  \r\n  const form = useForm<SettingsValues>({\r\n    resolver: zodResolver(settingsSchema),\r\n    defaultValues: {\r\n      site_name: initialData?.site_name || \"Masjid Jami' Al Arqam\",\r\n      tagline: initialData?.tagline || \"\",\r\n      description: initialData?.description || \"\",\r\n      address: initialData?.address || \"\",\r\n      phone: initialData?.phone || \"\",\r\n      email: initialData?.email || \"\",\r\n      whatsapp: initialData?.whatsapp || \"\",\r\n      instagram: initialData?.instagram || \"\",\r\n      facebook: initialData?.facebook || \"\",\r\n      youtube: initialData?.youtube || \"\",\r\n      map_url: initialData?.map_url || \"\",\r\n    },\r\n  });\r\n\r\n  const { isSubmitting } = form.formState;\r\n\r\n  const onSubmit = async (data: SettingsValues) => {\r\n    try {\r\n      await updateSiteSettings(data);\r\n      toast.success(\"Pengaturan website berhasil disimpan\");\r\n      router.refresh();\r\n    } catch (error) {\r\n      toast.error(\"Gagal menyimpan pengaturan\");\r\n      console.error(error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\r\n      <Tabs defaultValue=\"general\" className=\"w-full\">\r\n        <TabsList className=\"mb-4\">\r\n          <TabsTrigger value=\"general\">Umum</TabsTrigger>\r\n          <TabsTrigger value=\"contact\">Kontak & Lokasi</TabsTrigger>\r\n          <TabsTrigger value=\"social\">Sosial Media</TabsTrigger>\r\n        </TabsList>\r\n\r\n        <TabsContent value=\"general\">\r\n          <Card className=\"border-slate-200 shadow-sm\">\r\n            <CardHeader>\r\n              <CardTitle>Identitas Website</CardTitle>\r\n              <CardDescription>Informasi utama yang tampil di halaman depan.</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"site_name\">Nama Website / Masjid</Label>\r\n                <Input id=\"site_name\" {...form.register(\"site_name\")} placeholder=\"Masjid Jami' Al Arqam\" />\r\n                {form.formState.errors.site_name && <p className=\"text-xs text-rose-500\">{form.formState.errors.site_name.message}</p>}\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"tagline\">Tagline</Label>\r\n                <Input id=\"tagline\" {...form.register(\"tagline\")} placeholder=\"Pusat Peradaban & Ukhuwah Islamiyah\" />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"description\">Deskripsi Singkat</Label>\r\n                <Textarea id=\"description\" {...form.register(\"description\")} placeholder=\"Deskripsi singkat tentang masjid...\" className=\"h-24\" />\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"contact\">\r\n          <Card className=\"border-slate-200 shadow-sm\">\r\n            <CardHeader>\r\n              <CardTitle>Kontak & Lokasi</CardTitle>\r\n              <CardDescription>Informasi kontak yang dapat dihubungi oleh jamaah.</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"phone\">Nomor Telepon</Label>\r\n                    <Input id=\"phone\" {...form.register(\"phone\")} placeholder=\"+62...\" />\r\n                </div>\r\n                <div className=\"space-y-2\">\r\n                    <Label htmlFor=\"whatsapp\">Nomor WhatsApp</Label>\r\n                    <Input id=\"whatsapp\" {...form.register(\"whatsapp\")} placeholder=\"628...\" />\r\n                    <p className=\"text-xs text-slate-500\">Gunakan format 628xxx tanpa + atau 0 di depan.</p>\r\n                </div>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"email\">Email</Label>\r\n                <Input id=\"email\" type=\"email\" {...form.register(\"email\")} placeholder=\"contoh@email.com\" />\r\n                {form.formState.errors.email && <p className=\"text-xs text-rose-500\">{form.formState.errors.email.message}</p>}\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"address\">Alamat Lengkap</Label>\r\n                <Textarea id=\"address\" {...form.register(\"address\")} placeholder=\"Jl. ...\" />\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"map_url\">Link Google Maps (Embed)</Label>\r\n                <Input id=\"map_url\" {...form.register(\"map_url\")} placeholder=\"https://www.google.com/maps/embed?...\" />\r\n                <p className=\"text-xs text-slate-500\">\r\n                    Masukan URL dari fitur \"Embed a map\" atau \"Sematkan peta\" di Google Maps.\r\n                </p>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n\r\n        <TabsContent value=\"social\">\r\n          <Card className=\"border-slate-200 shadow-sm\">\r\n            <CardHeader>\r\n              <CardTitle>Sosial Media</CardTitle>\r\n              <CardDescription>Link ke akun sosial media masjid.</CardDescription>\r\n            </CardHeader>\r\n            <CardContent className=\"space-y-4\">\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"instagram\">Instagram URL</Label>\r\n                <Input id=\"instagram\" {...form.register(\"instagram\")} placeholder=\"https://instagram.com/...\" />\r\n                <p className=\"text-xs text-slate-500\">Masukkan link lengkap profil Instagram, misal: https://instagram.com/namamasjid</p>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"facebook\">Facebook URL</Label>\r\n                <Input id=\"facebook\" {...form.register(\"facebook\")} placeholder=\"https://facebook.com/...\" />\r\n                <p className=\"text-xs text-slate-500\">Masukkan link lengkap profil Facebook, misal: https://facebook.com/namamasjid</p>\r\n              </div>\r\n              <div className=\"space-y-2\">\r\n                <Label htmlFor=\"youtube\">YouTube URL</Label>\r\n                <Input id=\"youtube\" {...form.register(\"youtube\")} placeholder=\"https://youtube.com/...\" />\r\n                <p className=\"text-xs text-slate-500\">Masukkan link lengkap channel YouTube, misal: https://youtube.com/@namamasjid</p>\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </TabsContent>\r\n      </Tabs>\r\n\r\n      <div className=\"flex justify-end sticky bottom-4\">\r\n        <Button type=\"submit\" className=\"bg-emerald-600 hover:bg-emerald-700 text-white min-w-[150px]\" disabled={isSubmitting}>\r\n           {isSubmitting ? <><Loader2 className=\"mr-2 h-4 w-4 animate-spin\" /> Menyimpan...</> : \"Simpan Perubahan\"}\r\n        </Button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\agenda\\[id]\\not-found.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\agenda\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'User' is defined but never used.","line":2,"column":46,"nodeType":"Identifier","messageId":"unusedVar","endLine":2,"endColumn":50,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"User"},"fix":{"range":[91,97],"text":""},"desc":"Remove unused variable \"User\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { Badge } from \"@/components/ui/badge\";\r\nimport { ArrowLeft, Calendar, Clock, MapPin, User } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { notFound } from \"next/navigation\";\r\nimport { getEventById } from \"@/app/actions/events\";\r\nimport { ShareButton } from \"@/components/public/ShareButton\"; \r\n\r\ninterface AgendaDetailPageProps {\r\n  params: Promise<{\r\n    id: string;\r\n  }>;\r\n}\r\n\r\nexport default async function AgendaDetailPage(props: AgendaDetailPageProps) {\r\n  const params = await props.params;\r\n  const { id } = params;\r\n  const event = await getEventById(id);\r\n\r\n  if (!event) {\r\n    notFound();\r\n  }\r\n\r\n  const dateObj = new Date(event.date);\r\n  const dayName = dateObj.toLocaleDateString(\"id-ID\", { weekday: \"long\" });\r\n  const dateStr = dateObj.toLocaleDateString(\"id-ID\", { day: \"numeric\", month: \"long\", year: \"numeric\" });\r\n\r\n  // Calculate status\r\n  const eventDate = new Date(event.date);\r\n  eventDate.setHours(0,0,0,0);\r\n  const today = new Date();\r\n  today.setHours(0,0,0,0);\r\n  const isFinished = eventDate < today;\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-white text-slate-900 pt-24 pb-20\">\r\n      <div className=\"container-custom px-4 md:px-6\">\r\n        \r\n        {/* Navigation */}\r\n        <Link href=\"/#agenda\" className=\"inline-flex items-center text-slate-500 hover:text-emerald-600 transition-colors mb-8 group font-medium\">\r\n          <ArrowLeft className=\"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform\" />\r\n          Kembali ke Agenda\r\n        </Link>\r\n\r\n        <div className=\"grid lg:grid-cols-12 gap-12 lg:gap-20\">\r\n          \r\n          {/* LEFT COLUMN: Main Content */}\r\n          <div className=\"lg:col-span-7 space-y-8\">\r\n            {/* Header Content */}\r\n            <div className=\"space-y-4\">\r\n               <div className=\"flex flex-wrap items-center gap-3\">\r\n                 <Badge variant=\"secondary\" className=\"bg-emerald-50 text-emerald-700 hover:bg-emerald-100 rounded-full px-4 py-1 text-xs tracking-wider uppercase font-bold border-none\">\r\n                    {event.category}\r\n                 </Badge>\r\n                 <Badge \r\n                    variant={isFinished ? \"secondary\" : \"default\"}\r\n                    className={`${\r\n                      isFinished \r\n                        ? \"bg-slate-100 text-slate-500 hover:bg-slate-200\" \r\n                        : \"bg-emerald-50 text-emerald-600 hover:bg-emerald-100 border-emerald-100\"\r\n                      } border border-transparent shadow-none px-3 py-1 text-xs font-bold uppercase tracking-wider`}\r\n                 >\r\n                    {isFinished ? \"Sudah Selesai\" : \"Akan Datang\"}\r\n                 </Badge>\r\n               </div>\r\n               <h1 className=\"text-4xl md:text-5xl lg:text-6xl font-extrabold tracking-tight text-slate-900 leading-[1.1]\">\r\n                  {event.title}\r\n               </h1>\r\n            </div>\r\n\r\n            {/* Content Body */}\r\n            <div className=\"prose prose-lg prose-slate max-w-none text-slate-600 leading-relaxed\">\r\n               <div dangerouslySetInnerHTML={{ __html: event.description }} />\r\n            </div>\r\n          </div>\r\n\r\n          {/* RIGHT COLUMN: Sticky Info Card */}\r\n          <div className=\"lg:col-span-5\">\r\n             <div className=\"sticky top-32\">\r\n                <div className=\"bg-slate-50 border border-slate-100 rounded-[2rem] p-8 shadow-xl shadow-slate-200/50\">\r\n                   <h3 className=\"text-lg font-bold text-slate-900 mb-6 flex items-center gap-2\">\r\n                      <span className=\"w-2 h-8 bg-emerald-500 rounded-full\"></span>\r\n                      Detail Pelaksanaan\r\n                   </h3>\r\n\r\n                   <div className=\"space-y-6\">\r\n                      {/* Date */}\r\n                      <div className=\"flex items-start gap-4 p-4 rounded-2xl bg-white border border-slate-100 hover:border-emerald-200 transition-colors group\">\r\n                         <div className=\"w-12 h-12 rounded-xl bg-emerald-50 text-emerald-600 flex items-center justify-center group-hover:scale-110 transition-transform\">\r\n                            <Calendar className=\"w-6 h-6\" />\r\n                         </div>\r\n                         <div>\r\n                            <p className=\"text-sm text-slate-500 font-semibold uppercase tracking-wider\">Tanggal</p>\r\n                            <p className=\"text-lg font-bold text-slate-900\">{dayName}</p>\r\n                            <p className=\"text-slate-600\">{dateStr}</p>\r\n                         </div>\r\n                      </div>\r\n\r\n                      {/* Time */}\r\n                      <div className=\"flex items-start gap-4 p-4 rounded-2xl bg-white border border-slate-100 hover:border-emerald-200 transition-colors group\">\r\n                         <div className=\"w-12 h-12 rounded-xl bg-blue-50 text-blue-600 flex items-center justify-center group-hover:scale-110 transition-transform\">\r\n                            <Clock className=\"w-6 h-6\" />\r\n                         </div>\r\n                         <div>\r\n                            <p className=\"text-sm text-slate-500 font-semibold uppercase tracking-wider\">Waktu</p>\r\n                            <p className=\"text-lg font-bold text-slate-900\">{event.time}</p>\r\n                            <p className=\"text-slate-600\">Hingga Selesai</p>\r\n                         </div>\r\n                      </div>\r\n\r\n                      {/* Location */}\r\n                      <div className=\"flex items-start gap-4 p-4 rounded-2xl bg-white border border-slate-100 hover:border-emerald-200 transition-colors group\">\r\n                         <div className=\"w-12 h-12 rounded-xl bg-rose-50 text-rose-600 flex items-center justify-center group-hover:scale-110 transition-transform\">\r\n                            <MapPin className=\"w-6 h-6\" />\r\n                         </div>\r\n                         <div>\r\n                            <p className=\"text-sm text-slate-500 font-semibold uppercase tracking-wider\">Lokasi</p>\r\n                            <p className=\"text-lg font-bold text-slate-900\">{event.location}</p>\r\n                            <a href=\"#\" className=\"text-sm text-emerald-600 hover:underline font-medium\">Buka di Google Maps</a>\r\n                         </div>\r\n                      </div>\r\n                   </div>\r\n\r\n                   <hr className=\"border-slate-200 my-8\" />\r\n\r\n                   <div className=\"grid grid-cols-1 gap-3\">\r\n                      <ShareButton title={event.title} description={event.description} />\r\n                   </div>\r\n                </div>\r\n             </div>\r\n          </div>\r\n\r\n        </div>\r\n      </div>\r\n    </main>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\artikel\\[id]\\not-found.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\artikel\\[id]\\page.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowLeft' is defined but never used.","line":5,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":19,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArrowLeft"},"fix":{"range":[124,134],"text":""},"desc":"Remove unused variable \"ArrowLeft\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Clock' is defined but never used.","line":5,"column":21,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":26,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Clock"},"fix":{"range":[133,140],"text":""},"desc":"Remove unused variable \"Clock\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'notFound' is defined but never used.","line":8,"column":21,"nodeType":"Identifier","messageId":"unusedVar","endLine":8,"endColumn":29,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"notFound"},"fix":{"range":[267,277],"text":""},"desc":"Remove unused variable \"notFound\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { ArrowLeft, Clock, Share2, ArrowRight } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { useParams, notFound } from \"next/navigation\";\r\nimport { toast } from \"sonner\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { getArticleById, getArticles } from \"@/app/actions/articles\";\r\nimport { ArticleItem } from \"@/types\";\r\n\r\nexport default function ArticleDetailPage() {\r\n  const params = useParams();\r\n  const id = params.id as string;\r\n  \r\n  const [article, setArticle] = useState<ArticleItem | null>(null);\r\n  const [relatedArticles, setRelatedArticles] = useState<ArticleItem[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [isError, setIsError] = useState(false);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n       setIsLoading(true);\r\n       try {\r\n          // Fetch main article\r\n          const data = await getArticleById(id);\r\n          if (!data) {\r\n             setIsError(true); // Or handle redirect\r\n             return;\r\n          }\r\n          setArticle(data);\r\n\r\n          // Fetch related (just latest for now, excluding current)\r\n          const allArticles = await getArticles(4);\r\n          const related = allArticles\r\n             .filter((a) => a.id !== id)\r\n             .slice(0, 2);\r\n          setRelatedArticles(related);\r\n\r\n       } catch (error) {\r\n          console.error(error);\r\n          setIsError(true);\r\n       } finally {\r\n          setIsLoading(false);\r\n       }\r\n    }\r\n\r\n    if (id) {\r\n       fetchData();\r\n    }\r\n  }, [id]);\r\n\r\n  if (isError) {\r\n     return (\r\n        <div className=\"min-h-screen flex items-center justify-center p-4\">\r\n           <div className=\"text-center\">\r\n              <h1 className=\"text-2xl font-bold mb-4\">Artikel tidak ditemukan</h1>\r\n              <Link href=\"/#artikel\">\r\n                 <Button>Kembali ke Beranda</Button>\r\n              </Link>\r\n           </div>\r\n        </div>\r\n     );\r\n  }\r\n\r\n  if (isLoading || !article) {\r\n     return (\r\n        <div className=\"min-h-screen bg-white container-custom pt-32 pb-20\">\r\n           <div className=\"animate-pulse space-y-8 max-w-4xl mx-auto\">\r\n              <div className=\"h-8 bg-slate-100 w-32 mx-auto rounded-full\"></div>\r\n              <div className=\"h-16 bg-slate-100 w-3/4 mx-auto rounded-xl\"></div>\r\n              <div className=\"h-4 bg-slate-100 w-1/2 mx-auto rounded-full\"></div>\r\n              <div className=\"h-[400px] bg-slate-100 rounded-[3rem] w-full\"></div>\r\n           </div>\r\n        </div>\r\n     );\r\n  }\r\n\r\n  const handleShare = async () => {\r\n    if (navigator.share) {\r\n      await navigator.share({\r\n        title: article.title,\r\n        text: article.excerpt,\r\n        url: window.location.href,\r\n      });\r\n    } else {\r\n      navigator.clipboard.writeText(window.location.href);\r\n      toast.success(\"Link berhasil disalin!\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <main className=\"min-h-screen bg-white text-slate-900 pb-20\">\r\n      \r\n      {/* 1. Minimal Header */}\r\n      <header className=\"pt-28 pb-12 bg-white\">\r\n        <div className=\"container-custom px-4 md:px-6 max-w-4xl mx-auto text-center\">\r\n            <Link href=\"/#artikel\">\r\n              <Badge variant=\"outline\" className=\"mb-6 hover:bg-slate-50 cursor-pointer border-slate-200 text-slate-500 font-medium px-4 py-1.5 uppercase tracking-widest text-[10px]\">\r\n                Kembali ke Artikel\r\n              </Badge>\r\n            </Link>\r\n            \r\n            <h1 className=\"text-4xl md:text-5xl lg:text-6xl font-serif font-bold text-slate-900 mb-6 leading-tight\">\r\n              {article.title}\r\n            </h1>\r\n\r\n            <p className=\"text-xl md:text-2xl text-slate-500 leading-relaxed font-light mb-8 max-w-2xl mx-auto\">\r\n              {article.excerpt}\r\n            </p>\r\n\r\n            {/* Author Meta (Avatar Removed) */}\r\n            <div className=\"flex items-center justify-center gap-4\">\r\n               {/* Avatar Removed per request */}\r\n               <div className=\"text-center\">\r\n                  <p className=\"font-bold text-slate-900 text-sm\">{article.author.name}</p>\r\n                  <div className=\"flex items-center justify-center gap-2 text-slate-500 text-xs font-medium uppercase tracking-wider mt-1\">\r\n                     <span>{article.date}</span>\r\n                     <span className=\"w-1 h-1 bg-slate-300 rounded-full\"></span>\r\n                     <span>{article.readingTime}</span>\r\n                  </div>\r\n               </div>\r\n            </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* 2. Featured Image (Cinematic) */}\r\n      <div className=\"w-full h-[400px] md:h-[600px] relative mb-16 px-4 md:px-8 max-w-[1400px] mx-auto\">\r\n         <div className=\"relative w-full h-full rounded-2xl md:rounded-[3rem] overflow-hidden shadow-2xl bg-slate-100\">\r\n            {article.imageUrl && (\r\n              <Image \r\n                src={article.imageUrl} \r\n                alt={article.title}\r\n                fill\r\n                className=\"object-cover\"\r\n                priority\r\n              />\r\n            )}\r\n         </div>\r\n      </div>\r\n\r\n      {/* 3. Main Content Room */}\r\n      <div className=\"container-custom px-4 md:px-6 max-w-3xl mx-auto\">\r\n        <article className=\"prose prose-lg prose-slate md:prose-xl prose-headings:font-serif prose-headings:font-bold prose-img:rounded-3xl prose-a:text-emerald-600 bg-white\">\r\n            {article.content ? (\r\n               <div dangerouslySetInnerHTML={{ __html: article.content }} />\r\n            ) : (\r\n               <div dangerouslySetInnerHTML={{ __html: `<p>${article.excerpt}</p>` }} />\r\n            )}\r\n        </article>\r\n\r\n        {/* Share Action */}\r\n        <div className=\"border-t border-slate-100 mt-16 pt-10 text-center\">\r\n            <p className=\"text-slate-500 text-sm font-semibold uppercase tracking-widest mb-4\">Bagikan Tulisan Ini</p>\r\n            <div className=\"flex justify-center gap-2\">\r\n               <Button onClick={handleShare} variant=\"outline\" size=\"lg\" className=\"rounded-full h-12 px-8 border-slate-200 hover:bg-slate-900 hover:text-white transition-all\">\r\n                  <Share2 className=\"w-4 h-4 mr-2\" /> Share Article\r\n               </Button>\r\n            </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* 4. More Stories */}\r\n      {relatedArticles.length > 0 && (\r\n        <section className=\"mt-32 pt-16 border-t border-slate-100\">\r\n          <div className=\"container-custom px-4 md:px-6\">\r\n            <div className=\"flex justify-between items-end mb-12\">\r\n               <h2 className=\"text-3xl font-bold font-serif text-slate-900\">Bacaan Lainnya</h2>\r\n               <Link href=\"/#artikel\" className=\"hidden md:flex items-center text-emerald-600 font-bold hover:underline\">\r\n                  Lihat Semua <ArrowRight className=\"w-4 h-4 ml-1\" />\r\n               </Link>\r\n            </div>\r\n            \r\n            <div className=\"grid md:grid-cols-2 gap-8\">\r\n              {relatedArticles.map((related) => (\r\n                <Link key={related.id} href={`/artikel/${related.id}`} className=\"group block\">\r\n                  <div className=\"bg-slate-50 rounded-3xl p-2 transition-colors hover:bg-emerald-50/50\">\r\n                     <div className=\"relative h-64 w-full rounded-2xl overflow-hidden mb-6 bg-slate-200\">\r\n                        {related.imageUrl && (\r\n                             <Image src={related.imageUrl} alt={related.title} fill className=\"object-cover transition-transform duration-700 group-hover:scale-110\" />\r\n                        )}\r\n                     </div>\r\n                     <div className=\"px-4 pb-4\">\r\n                        <Badge variant=\"outline\" className=\"mb-3 border-slate-200 bg-white\">{related.category}</Badge>\r\n                        <h3 className=\"text-2xl font-bold text-slate-900 mb-3 group-hover:text-emerald-700 transition-colors leading-tight\">\r\n                           {related.title}\r\n                        </h3>\r\n                        <p className=\"text-slate-500 line-clamp-2\">{related.excerpt}</p>\r\n                     </div>\r\n                  </div>\r\n                </Link>\r\n              ))}\r\n            </div>\r\n          </div>\r\n        </section>\r\n      )}\r\n    </main>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\auth\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\auth\\login\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\auth\\register\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\layout.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\app\\page.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\admin\\AdminMobileSidebar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'motion' is defined but never used.","line":11,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":16,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"motion"},"fix":{"range":[458,465],"text":""},"desc":"Remove unused variable \"motion\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'AnimatePresence' is defined but never used.","line":11,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":11,"endColumn":33,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"AnimatePresence"},"fix":{"range":[449,505],"text":""},"desc":"Remove unused import declaration."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { Sheet, SheetContent, SheetTrigger, SheetTitle, SheetDescription } from \"@/components/ui/sheet\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Menu, LogOut, Landmark } from \"lucide-react\";\r\nimport { sidebarItems } from \"./AdminSidebar\"; // Import shared items\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { useState } from \"react\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\n\r\nexport function AdminMobileSidebar() {\r\n    const pathname = usePathname();\r\n    const [open, setOpen] = useState(false);\r\n\r\n    return (\r\n        <Sheet open={open} onOpenChange={setOpen}>\r\n            <SheetTrigger asChild>\r\n                <Button variant=\"ghost\" size=\"icon\" className=\"md:hidden -ml-2 text-slate-600 hover:text-emerald-600 hover:bg-emerald-50\">\r\n                    <Menu className=\"w-6 h-6\" />\r\n                </Button>\r\n            </SheetTrigger>\r\n            <SheetContent side=\"left\" className=\"w-[80vw] sm:w-[300px] bg-slate-900 border-r-slate-800 p-0 text-white flex flex-col\">\r\n                {/* Accessible Title & Description for Screen Readers */}\r\n                <div className=\"sr-only\">\r\n                    <SheetTitle>Admin Navigation Menu</SheetTitle>\r\n                    <SheetDescription>Navigation links for the admin dashboard.</SheetDescription>\r\n                </div>\r\n\r\n                {/* Header */}\r\n                <div className=\"h-16 flex items-center px-6 border-b border-slate-800 shrink-0\">\r\n                    <Landmark className=\"w-6 h-6 text-emerald-500 mr-3\" />\r\n                    <span className=\"font-bold text-lg tracking-tight\">Al Arqam CMS</span>\r\n                </div>\r\n\r\n                {/* Navigation */}\r\n                <nav className=\"flex-1 py-6 px-3 space-y-1 overflow-y-auto\">\r\n                    {sidebarItems.map((item) => {\r\n                        const isActive = pathname === item.href || (item.href !== \"/admin\" && pathname.startsWith(item.href));\r\n                        return (\r\n                            <Link\r\n                                key={item.href}\r\n                                href={item.href}\r\n                                onClick={() => setOpen(false)} // Close on click\r\n                                className={cn(\r\n                                    \"flex items-center gap-3 px-3 py-3 rounded-lg text-sm font-medium transition-colors\",\r\n                                    isActive\r\n                                        ? \"bg-emerald-600 text-white shadow-md shadow-emerald-900/20\"\r\n                                        : \"text-slate-400 hover:text-white hover:bg-slate-800\"\r\n                                )}\r\n                            >\r\n                                <item.icon className={cn(\"w-5 h-5\", isActive ? \"text-white\" : \"text-slate-500\")} />\r\n                                {item.title}\r\n                            </Link>\r\n                        );\r\n                    })}\r\n                </nav>\r\n\r\n                {/* Footer */}\r\n                <div className=\"p-4 border-t border-slate-800 shrink-0\">\r\n                    <button\r\n                        onClick={() => {\r\n                            import(\"@/app/actions/auth\").then((mod) => mod.logout());\r\n                            setOpen(false);\r\n                        }}\r\n                        className=\"flex items-center gap-3 px-3 py-3 w-full rounded-lg text-sm font-medium text-rose-400 hover:bg-rose-950/30 hover:text-rose-300 transition-colors\"\r\n                    >\r\n                        <LogOut className=\"w-5 h-5\" />\r\n                        Keluar\r\n                    </button>\r\n                </div>\r\n            </SheetContent>\r\n        </Sheet>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\admin\\AdminSidebar.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'fadeUp' is defined but never used.","line":19,"column":28,"nodeType":"Identifier","messageId":"unusedVar","endLine":19,"endColumn":34,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"fadeUp"},"fix":{"range":[375,383],"text":""},"desc":"Remove unused variable \"fadeUp\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport Link from \"next/link\";\r\nimport { usePathname } from \"next/navigation\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport {\r\n  LayoutDashboard,\r\n  Calendar,\r\n  FileText,\r\n  Image as ImageIcon,\r\n  Settings,\r\n  LogOut,\r\n  Landmark,\r\n  PiggyBank,\r\n  UserCircle,\r\n  Timer\r\n} from \"lucide-react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { staggerContainer, fadeUp } from \"@/lib/motion\";\r\n\r\nexport const sidebarItems = [\r\n  {\r\n    title: \"Dashboard\",\r\n    href: \"/admin\",\r\n    icon: LayoutDashboard,\r\n  },\r\n  {\r\n    title: \"Countdown\",\r\n    href: \"/admin/countdown\",\r\n    icon: Timer,\r\n  },\r\n  {\r\n    title: \"Agenda\",\r\n    href: \"/admin/agenda\",\r\n    icon: Calendar,\r\n  },\r\n  {\r\n    title: \"Artikel\",\r\n    href: \"/admin/artikel\",\r\n    icon: FileText,\r\n  },\r\n  {\r\n    title: \"Galeri\",\r\n    href: \"/admin/galeri\",\r\n    icon: ImageIcon,\r\n  },\r\n  {\r\n    title: \"Donasi\",\r\n    href: \"/admin/donasi\",\r\n    icon: PiggyBank,\r\n  },\r\n  {\r\n    title: \"Pengaturan\",\r\n    href: \"/admin/settings\",\r\n    icon: Settings,\r\n  },\r\n  {\r\n    title: \"Profil Admin\",\r\n    href: \"/admin/profile\",\r\n    icon: UserCircle,\r\n  },\r\n];\r\n\r\nconst sidebarItemVariant = {\r\n  hidden: { opacity: 0, x: -20 },\r\n  show: { opacity: 1, x: 0 }\r\n};\r\n\r\nexport function AdminSidebar() {\r\n  const pathname = usePathname();\r\n\r\n  return (\r\n    <div className=\"w-64 bg-slate-900 min-h-screen text-white flex flex-col fixed left-0 top-0 bottom-0 z-50\">\r\n      {/* Header */}\r\n      <div className=\"h-16 flex items-center px-6 border-b border-slate-800\">\r\n        <Landmark className=\"w-6 h-6 text-emerald-500 mr-3\" />\r\n        <span className=\"font-bold text-lg tracking-tight\">Al Arqam CMS</span>\r\n      </div>\r\n\r\n      {/* Navigation */}\r\n      <motion.nav\r\n        variants={staggerContainer(0.05)}\r\n        initial=\"hidden\"\r\n        animate=\"show\"\r\n        className=\"flex-1 py-6 px-3 space-y-1 overflow-y-auto\"\r\n      >\r\n        {sidebarItems.map((item) => {\r\n          const isActive = pathname === item.href || (item.href !== \"/admin\" && pathname.startsWith(item.href));\r\n          return (\r\n            <Link\r\n              key={item.href}\r\n              href={item.href}\r\n              aria-current={isActive ? \"page\" : undefined}\r\n            >\r\n              <motion.div\r\n                variants={sidebarItemVariant}\r\n                whileHover={{ x: 4 }}\r\n                transition={{ type: \"spring\", stiffness: 400, damping: 20 }}\r\n                className={cn(\r\n                  \"flex items-center gap-3 px-3 py-2.5 rounded-lg text-sm font-medium transition-colors\",\r\n                  isActive\r\n                    ? \"bg-emerald-600 text-white shadow-md shadow-emerald-900/20\"\r\n                    : \"text-slate-400 hover:text-white hover:bg-slate-800\"\r\n                )}\r\n              >\r\n                <item.icon className={cn(\"w-5 h-5\", isActive ? \"text-white\" : \"text-slate-500\")} />\r\n                {item.title}\r\n              </motion.div>\r\n            </Link>\r\n          );\r\n        })}\r\n      </motion.nav>\r\n\r\n      {/* Footer / Logout */}\r\n      <div className=\"p-4 border-t border-slate-800\">\r\n        <motion.button\r\n          initial={{ opacity: 0 }}\r\n          animate={{ opacity: 1 }}\r\n          transition={{ delay: 0.5 }}\r\n          onClick={() => import(\"@/app/actions/auth\").then((mod) => mod.logout())}\r\n          className=\"flex items-center gap-3 px-3 py-2.5 w-full rounded-lg text-sm font-medium text-rose-400 hover:bg-rose-950/30 hover:text-rose-300 transition-colors\"\r\n        >\r\n          <LogOut className=\"w-5 h-5\" />\r\n          Keluar\r\n        </motion.button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\auth\\login-form.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'router' is assigned a value but never used.","line":29,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":29,"endColumn":15}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useActionState, useState, useEffect } from \"react\";\r\nimport { login } from \"@/app/actions/auth\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport Link from \"next/link\";\r\nimport { Loader2, Eye, EyeOff } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport { useRouter } from \"next/navigation\";\r\n\r\ntype ActionState = {\r\n  message?: string;\r\n  error?: {\r\n    email?: string[];\r\n    password?: string[];\r\n  };\r\n};\r\n\r\nconst initialState: ActionState = {\r\n  message: \"\",\r\n  error: undefined,\r\n};\r\n\r\nexport function LoginForm() {\r\n  const [state, formAction, isPending] = useActionState(login, initialState);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const router = useRouter();\r\n\r\n  useEffect(() => {\r\n    if (state?.message) {\r\n      toast.error(state.message);\r\n    }\r\n  }, [state]);\r\n\r\n  return (\r\n    <div className=\"space-y-6 animate-fade-in\">\r\n      <div className=\"space-y-2 text-center lg:text-left\">\r\n        <h2 className=\"text-3xl font-bold font-heading tracking-tight\">Masuk Akun</h2>\r\n        <p className=\"text-muted-foreground\">\r\n          Masukkan email dan password untuk mengakses dashboard.\r\n        </p>\r\n      </div>\r\n\r\n      <form action={formAction} className=\"space-y-4\">\r\n        <div className=\"space-y-2\">\r\n          <Label htmlFor=\"email\">Email atau Username</Label>\r\n          <Input\r\n            id=\"email\"\r\n            name=\"email\"\r\n            type=\"text\"\r\n            placeholder=\"Email atau Username\"\r\n            required\r\n            className=\"h-11 bg-background/50 backdrop-blur-sm\"\r\n          />\r\n          {state?.error?.email && (\r\n            <p className=\"text-sm text-destructive\">{state.error.email}</p>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"space-y-2\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <Label htmlFor=\"password\">Password</Label>\r\n          </div>\r\n          <div className=\"relative\">\r\n            <Input\r\n              id=\"password\"\r\n              name=\"password\"\r\n              type={showPassword ? \"text\" : \"password\"}\r\n              placeholder=\"\"\r\n              required\r\n              className=\"h-11 bg-background/50 backdrop-blur-sm pr-10\"\r\n            />\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowPassword(!showPassword)}\r\n              className=\"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors\"\r\n            >\r\n              {showPassword ? (\r\n                <EyeOff className=\"h-4 w-4\" />\r\n              ) : (\r\n                <Eye className=\"h-4 w-4\" />\r\n              )}\r\n            </button>\r\n          </div>\r\n          {state?.error?.password && (\r\n            <p className=\"text-sm text-destructive\">{state.error.password}</p>\r\n          )}\r\n        </div>\r\n\r\n        <Button\r\n          type=\"submit\"\r\n          className=\"w-full h-11 text-base font-medium btn-shine mt-6\"\r\n          disabled={isPending}\r\n        >\r\n          {isPending ? (\r\n            <>\r\n              <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\r\n              Memproses...\r\n            </>\r\n          ) : (\r\n            \"Masuk Sekarang\"\r\n          )}\r\n        </Button>\r\n      </form>\r\n\r\n      <div className=\"text-center text-sm text-muted-foreground\">\r\n        Belum punya akun?{\" \"}\r\n        <Link\r\n          href=\"/auth/register\"\r\n          className=\"font-medium text-primary hover:text-primary/80 underline-offset-4 hover:underline transition-all\"\r\n        >\r\n          Daftar disini\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\auth\\register-form.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\public\\AgendaSection.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'now' is assigned a value but never used.","line":47,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":47,"endColumn":12},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'current' is assigned a value but never used.","line":120,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":120,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'count' is assigned a value but never used.","line":121,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":121,"endColumn":15},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\USER\\Documents\\website-risma\\src\\components\\public\\AgendaSection.tsx:128:5\n  126 |     }\n  127 |  \n> 128 |     setCount(api.scrollSnapList().length)\n      |     ^^^^^^^^ Avoid calling setState() directly within an effect\n  129 |     setCurrent(api.selectedScrollSnap() + 1)\n  130 |  \n  131 |     api.on(\"select\", () => {","line":128,"column":5,"nodeType":null,"endLine":128,"endColumn":13}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { \r\n  Calendar, \r\n  MapPin, \r\n  Clock, \r\n  ArrowRight, \r\n  Mic, \r\n  Trophy, \r\n  Heart, \r\n  ChevronLeft, \r\n  ChevronRight \r\n} from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport { useState, useEffect } from \"react\";\r\nimport {\r\n  Carousel,\r\n  CarouselContent,\r\n  CarouselItem,\r\n} from \"@/components/ui/carousel\";\r\n\r\nimport { EventItem, EventCategory } from \"@/types\";\r\nimport { CarouselApi } from \"@/components/ui/carousel\";\r\n\r\nconst categoryIcons: Record<EventCategory, React.ReactNode> = {\r\n  kajian: <Mic className=\"w-6 h-6 text-white\" />,\r\n  olahraga: <Trophy className=\"w-6 h-6 text-white\" />,\r\n  sosial: <Heart className=\"w-6 h-6 text-white\" />,\r\n  lainnya: <Calendar className=\"w-6 h-6 text-white\" />,\r\n};\r\n\r\nconst categoryGradients: Record<EventCategory, string> = {\r\n  kajian: \"bg-gradient-to-br from-emerald-400 to-emerald-600\",\r\n  olahraga: \"bg-gradient-to-br from-blue-400 to-blue-600\",\r\n  sosial: \"bg-gradient-to-br from-rose-400 to-rose-600\",\r\n  lainnya: \"bg-gradient-to-br from-amber-400 to-amber-600\",\r\n};\r\n\r\nfunction AgendaCard({ event }: { event: EventItem }) {\r\n  const dateObj = new Date(event.date);\r\n  const dayName = dateObj.toLocaleDateString(\"id-ID\", { weekday: \"long\" });\r\n  const dateStr = dateObj.toLocaleDateString(\"id-ID\", { day: \"numeric\", month: \"long\" });\r\n\r\n  // Calculate status\r\n  const now = new Date();\r\n  // Reset time part for accurate date comparison if needed, but requirements say \"Tanggal kegiatan sudah lewat dari tanggal hari ini\"\r\n  // Let's keep it simple: strict comparison of dates could arguably look at time too, but usually strict date comparison assumes end of day.\r\n  // Requirement: \"Tanggal kegiatan sudah lewat dari tanggal hari ini\" -> \"Sudah Selesai\"\r\n  // Requirement: \"Tanggal kegiatan sama dengan hari ini atau masih akan datang\" -> \"Akan Datang\"\r\n  \r\n  // Set comparison to beginning of day to be safe, or just compare direct timestamps if date string is YYYY-MM-DD\r\n  const eventDate = new Date(event.date); // Assuming YYYY-MM-DD or ISO\r\n  eventDate.setHours(0,0,0,0);\r\n  const today = new Date();\r\n  today.setHours(0,0,0,0);\r\n\r\n  const isFinished = eventDate < today;\r\n  \r\n  return (\r\n    <div className=\"group relative bg-white dark:bg-slate-800 rounded-[2rem] p-8 shadow-sm hover:shadow-xl transition-all duration-300 h-full border border-slate-100 dark:border-slate-700 flex flex-col justify-between\">\r\n      \r\n      {/* Top Section: Icon & Category */}\r\n      <div>\r\n        <div className=\"flex justify-between items-start mb-6\">\r\n          <div className={`w-14 h-14 rounded-2xl ${categoryGradients[event.category]} flex items-center justify-center shadow-lg transform group-hover:scale-110 transition-transform duration-300`}>\r\n            {categoryIcons[event.category]}\r\n          </div>\r\n           {/* Status Label */}\r\n           <Badge \r\n            variant={isFinished ? \"secondary\" : \"default\"}\r\n            className={`${\r\n              isFinished \r\n                ? \"bg-slate-100 text-slate-500 hover:bg-slate-200\" \r\n                : \"bg-emerald-50 text-emerald-600 hover:bg-emerald-100 border-emerald-100\"\r\n              } border border-transparent shadow-none px-3 py-1 text-xs font-bold uppercase tracking-wider`}\r\n          >\r\n            {isFinished ? \"Sudah Selesai\" : \"Akan Datang\"}\r\n          </Badge>\r\n        </div>\r\n\r\n        <h3 className=\"text-2xl font-bold mb-2 group-hover:text-primary transition-colors line-clamp-2\">\r\n          {event.title}\r\n        </h3>\r\n        \r\n        <div className=\"flex items-center gap-2 text-sm text-slate-600 dark:text-slate-400 mb-4 font-medium\">\r\n          <Calendar className=\"w-4 h-4\" />\r\n          <span>{dayName}, {dateStr}</span>\r\n          <span className=\"w-1 h-1 rounded-full bg-slate-300 mx-1\" />\r\n          <Clock className=\"w-4 h-4\" />\r\n          <span>{event.time}</span>\r\n        </div>\r\n\r\n        <div \r\n          className=\"text-slate-600 dark:text-slate-300 text-sm leading-relaxed mb-6 line-clamp-3 prose prose-sm prose-emerald\"\r\n          dangerouslySetInnerHTML={{ __html: event.description }}\r\n        />\r\n      </div>\r\n\r\n      {/* Button Action */}\r\n      <div className=\"flex items-center justify-between mt-auto\">\r\n         <div className=\"flex items-center gap-1 text-xs font-bold uppercase tracking-wider text-slate-600\">\r\n            <MapPin className=\"w-3 h-3\" />\r\n            {event.location}\r\n         </div>\r\n         \r\n         <Link href={`/agenda/${event.id}`}>\r\n           <button aria-label={`Detail event ${event.title}`} className=\"w-10 h-10 rounded-full bg-slate-900 dark:bg-white text-white dark:text-slate-900 flex items-center justify-center hover:scale-110 transition-transform shadow-lg\">\r\n             <ArrowRight className=\"w-5 h-5\" />\r\n           </button>\r\n         </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport function AgendaSection({ events = [] }: { events?: EventItem[] }) {\r\n  const [api, setApi] = useState<CarouselApi>()\r\n  const [current, setCurrent] = useState(0)\r\n  const [count, setCount] = useState(0)\r\n\r\n  useEffect(() => {\r\n    if (!api) {\r\n      return\r\n    }\r\n \r\n    setCount(api.scrollSnapList().length)\r\n    setCurrent(api.selectedScrollSnap() + 1)\r\n \r\n    api.on(\"select\", () => {\r\n      setCurrent(api.selectedScrollSnap() + 1)\r\n    })\r\n  }, [api])\r\n\r\n  return (\r\n    <section id=\"agenda\" className=\"section-padding bg-slate-50/50 dark:bg-slate-900/50 relative\">\r\n      <div className=\"container-custom\">\r\n        <div className=\"flex flex-col md:flex-row items-start md:items-end justify-between mb-8 md:mb-12 gap-6\">\r\n          <div className=\"max-w-xl\">\r\n             <div className=\"inline-flex items-center gap-2 mb-3 px-3 py-1 rounded-full bg-emerald-50 text-emerald-600 border border-emerald-100 w-fit\">\r\n                <Calendar className=\"w-3.5 h-3.5\" />\r\n                <span className=\"text-xs font-bold tracking-widest uppercase\">AGENDA MASJID</span>\r\n             </div>\r\n            <h2 className=\"text-4xl md:text-5xl font-bold tracking-tight text-slate-900 dark:text-white\">\r\n              Kegiatan Terdekat\r\n            </h2>\r\n          </div>\r\n          \r\n          {/* Custom Header Buttons - Only show if there are events */}\r\n          {events.length > 0 && (\r\n            <div className=\"flex gap-2 relative z-10 self-end md:self-auto\">\r\n               <Button \r\n                 onClick={() => api?.scrollPrev()} \r\n                 variant=\"outline\" \r\n                 size=\"icon\" \r\n                 aria-label=\"Previous agenda\"\r\n                 className=\"h-12 w-12 rounded-full border-slate-200 bg-white hover:bg-slate-50 hover:text-primary transition-all shadow-sm\"\r\n               >\r\n                 <ChevronLeft className=\"w-6 h-6\" />\r\n               </Button>\r\n               <Button \r\n                 onClick={() => api?.scrollNext()} \r\n                 variant=\"outline\" \r\n                 size=\"icon\" \r\n                 aria-label=\"Next agenda\"\r\n                 className=\"h-12 w-12 rounded-full border-slate-200 bg-white hover:bg-slate-50 hover:text-primary transition-all shadow-sm\"\r\n               >\r\n                 <ChevronRight className=\"w-6 h-6\" />\r\n               </Button>\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Content */}\r\n        <div className=\"relative\">\r\n          {events.length > 0 ? (\r\n            <Carousel\r\n              setApi={setApi}\r\n              opts={{\r\n                align: \"start\",\r\n                loop: true,\r\n              }}\r\n              className=\"w-full\"\r\n            >\r\n              <CarouselContent className=\"-ml-4 pb-4\">\r\n                {events.map((event) => (\r\n                  <CarouselItem key={event.id} className=\"pl-4 md:basis-1/2 lg:basis-1/3\">\r\n                    <div className=\"h-full\">\r\n                      <AgendaCard event={event} />\r\n                    </div>\r\n                  </CarouselItem>\r\n                ))}\r\n              </CarouselContent>\r\n            </Carousel>\r\n          ) : (\r\n            // Empty State\r\n            <div className=\"text-center py-20 bg-white dark:bg-slate-800 rounded-[2rem] border border-dashed border-slate-200 dark:border-slate-700\">\r\n              <div className=\"flex flex-col items-center justify-center gap-4\">\r\n                <div className=\"w-16 h-16 rounded-full bg-slate-50 dark:bg-slate-700 flex items-center justify-center\">\r\n                   <Calendar className=\"w-8 h-8 text-slate-400\" />\r\n                </div>\r\n                <p className=\"text-slate-500 dark:text-slate-400 font-medium\">Belum ada agenda terdekat</p>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\public\\ArticleSection.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'User' is defined but never used.","line":5,"column":32,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":36,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"User"},"fix":{"range":[144,150],"text":""},"desc":"Remove unused variable \"User\"."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":53,"column":106,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[2018,2141],"text":"\r\n              Baca artikel-artikel islami, ringkasan kajian, dan berita terbaru dari kegiatan Masjid Jami&apos;.\r\n            "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[2018,2141],"text":"\r\n              Baca artikel-artikel islami, ringkasan kajian, dan berita terbaru dari kegiatan Masjid Jami&lsquo;.\r\n            "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[2018,2141],"text":"\r\n              Baca artikel-artikel islami, ringkasan kajian, dan berita terbaru dari kegiatan Masjid Jami&#39;.\r\n            "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[2018,2141],"text":"\r\n              Baca artikel-artikel islami, ringkasan kajian, dan berita terbaru dari kegiatan Masjid Jami&rsquo;.\r\n            "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { ArrowRight, Calendar, User, BookOpen, ChevronLeft, ChevronRight } from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { useState, useEffect } from \"react\";\r\nimport {\r\n  Carousel,\r\n  CarouselContent,\r\n  CarouselItem,\r\n} from \"@/components/ui/carousel\";\r\n\r\nimport { ArticleItem } from \"@/types\";\r\nimport { CarouselApi } from \"@/components/ui/carousel\";\r\nimport { getArticles } from \"@/app/actions/articles\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport function ArticleSection() {\r\n  const [api, setApi] = useState<CarouselApi>()\r\n  const [articles, setArticles] = useState<ArticleItem[]>([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n\r\n  useEffect(() => {\r\n    async function fetchArticles() {\r\n      try {\r\n        const data = await getArticles(6); // Fetch latest 6\r\n        setArticles(data);\r\n      } catch (error) {\r\n        console.error(\"Failed to fetch articles\", error);\r\n        toast.error(\"Gagal memuat artikel terbaru\");\r\n      } finally {\r\n        setIsLoading(false);\r\n      }\r\n    }\r\n    fetchArticles();\r\n  }, []);\r\n\r\n  return (\r\n    <section id=\"artikel\" className=\"section-padding bg-white relative\">\r\n      <div className=\"container-custom\">\r\n        <div className=\"flex flex-col md:flex-row items-start md:items-end justify-between mb-8 md:mb-12 gap-6\">\r\n          <div className=\"max-w-xl\">\r\n             <div className=\"inline-flex items-center gap-2 mb-3 px-3 py-1 rounded-full bg-emerald-50 text-emerald-600 border border-emerald-100 w-fit\">\r\n               <BookOpen className=\"w-3.5 h-3.5\" />\r\n               <span className=\"text-xs font-bold tracking-widest uppercase\">Wawasan & Literasi</span>\r\n            </div>\r\n            <h2 className=\"text-4xl md:text-5xl font-bold tracking-tight text-slate-900 mb-4\">\r\n              Artikel Terbaru\r\n            </h2>\r\n            <p className=\"text-slate-500 text-lg\">\r\n              Baca artikel-artikel islami, ringkasan kajian, dan berita terbaru dari kegiatan Masjid Jami'.\r\n            </p>\r\n          </div>\r\n          \r\n          {/* Custom Header Buttons */}\r\n          <div className=\"flex gap-2 relative z-10 self-end md:self-auto\">\r\n             <Button \r\n               onClick={() => api?.scrollPrev()} \r\n               variant=\"outline\" \r\n               size=\"icon\" \r\n               disabled={!articles.length}\r\n               aria-label=\"Previous article\"\r\n               className=\"h-12 w-12 rounded-full border-slate-200 bg-white hover:bg-slate-50 hover:text-emerald-600 transition-all shadow-sm\"\r\n             >\r\n               <ChevronLeft className=\"w-6 h-6\" />\r\n             </Button>\r\n             <Button \r\n               onClick={() => api?.scrollNext()} \r\n               variant=\"outline\" \r\n               size=\"icon\" \r\n               disabled={!articles.length}\r\n               aria-label=\"Next article\"\r\n               className=\"h-12 w-12 rounded-full border-slate-200 bg-white hover:bg-slate-50 hover:text-emerald-600 transition-all shadow-sm\"\r\n             >\r\n               <ChevronRight className=\"w-6 h-6\" />\r\n             </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Carousel */}\r\n        <div className=\"relative\">\r\n          {isLoading ? (\r\n             <div className=\"grid md:grid-cols-3 gap-6\">\r\n                {[1,2,3].map(i => (\r\n                  <div key={i} className=\"h-[400px] bg-slate-50 rounded-[2rem] animate-pulse\"></div>\r\n                ))}\r\n             </div>\r\n          ) : articles.length > 0 ? (\r\n            <Carousel\r\n              setApi={setApi}\r\n              opts={{\r\n                align: \"start\",\r\n                loop: true,\r\n              }}\r\n              className=\"w-full\"\r\n            >\r\n              <CarouselContent className=\"-ml-6 pb-8\">\r\n                {articles.map((article) => (\r\n                  <CarouselItem key={article.id} className=\"pl-6 md:basis-1/2 lg:basis-1/3\">\r\n                    <div className=\"group relative bg-white border border-slate-100 rounded-[2rem] overflow-hidden shadow-sm hover:shadow-2xl hover:-translate-y-2 transition-all duration-300 h-full flex flex-col\">\r\n                      \r\n                      {/* Image Top */}\r\n                      <div className=\"relative h-60 w-full overflow-hidden bg-slate-100\">\r\n                         <div className=\"absolute inset-0 bg-slate-200 flex items-center justify-center text-slate-400\">\r\n                            {article.imageUrl ? (\r\n                              <Image \r\n                                src={article.imageUrl} \r\n                                alt={article.title}\r\n                                fill\r\n                                className=\"object-cover transition-transform duration-700 group-hover:scale-110\"\r\n                                sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\r\n                              />\r\n                            ) : (\r\n                               <div className=\"text-slate-300\">No Image</div>\r\n                            )}\r\n                         </div>\r\n                         \r\n                         {/* Floating Tag */}\r\n                         <div className=\"absolute top-4 left-4\">\r\n                            <Badge className=\"bg-white/90 backdrop-blur text-slate-900 border-none shadow-sm hover:bg-white text-xs font-bold px-3 py-1\">\r\n                               {article.category}\r\n                            </Badge>\r\n                         </div>\r\n                      </div>\r\n                      \r\n                       {/* Content Body */}\r\n                      <div className=\"p-8 flex-1 flex flex-col\">\r\n                         <div className=\"flex items-center gap-3 text-xs text-slate-500 font-medium mb-4\">\r\n                            <span className=\"flex items-center gap-1\">\r\n                               <Calendar className=\"w-3.5 h-3.5\" />\r\n                               {article.date}\r\n                            </span>\r\n                            <span className=\"w-1 h-1 rounded-full bg-slate-300\"></span>\r\n                            <span>{article.readingTime}</span>\r\n                         </div>\r\n                         \r\n                         <h3 className=\"text-xl font-bold text-slate-900 mb-3 group-hover:text-emerald-600 transition-colors line-clamp-2\">\r\n                            {article.title}\r\n                         </h3>\r\n                         \r\n                         <p className=\"text-slate-500 text-sm leading-relaxed mb-6 line-clamp-2\">\r\n                            {article.excerpt}\r\n                         </p>\r\n                         \r\n                         {/* Footer Action */}\r\n                         <div className=\"mt-auto flex items-center justify-between border-t border-slate-50 pt-6\">\r\n                            <div className=\"flex items-center gap-2\">\r\n                               <span className=\"text-sm font-semibold text-slate-700\">{article.author.name}</span>\r\n                            </div>\r\n                            \r\n                            <Link href={`/artikel/${article.id}`}>\r\n                               <button aria-label={`Baca artikel ${article.title}`} className=\"w-10 h-10 rounded-full bg-slate-900 text-white flex items-center justify-center hover:bg-emerald-600 hover:scale-110 transition-all shadow-lg\">\r\n                                  <ArrowRight className=\"w-5 h-5\" />\r\n                               </button>\r\n                            </Link>\r\n                         </div>\r\n                      </div>\r\n                    </div>\r\n                  </CarouselItem>\r\n                ))}\r\n              </CarouselContent>\r\n            </Carousel>\r\n          ) : (\r\n             <div className=\"text-center py-20 bg-slate-50 rounded-[2rem] border border-dashed border-slate-200\">\r\n                <p className=\"text-slate-500\">Belum ada artikel yang diterbitkan.</p>\r\n             </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\public\\CountdownSection.tsx","messages":[{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\USER\\Documents\\website-risma\\src\\components\\public\\CountdownSection.tsx:25:9\n  23 |\n  24 |     useEffect(() => {\n> 25 |         setMounted(true);\n     |         ^^^^^^^^^^ Avoid calling setState() directly within an effect\n  26 |     }, []);\n  27 |\n  28 |     if (isExpired) return null;","line":25,"column":9,"nodeType":null,"endLine":25,"endColumn":19}],"suppressedMessages":[],"errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useCountdown } from \"@/hooks/useCountdown\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { Moon, Star, Sparkles } from \"lucide-react\"; // Add Sparkles\r\n\r\n\r\nimport { useState, useEffect } from \"react\";\r\n\r\ninterface CountdownSectionProps {\r\n    targetDate: string;\r\n    eventName: string;\r\n    description?: string;\r\n}\r\n\r\nexport function CountdownSection({\r\n    targetDate = \"2026-03-20T00:00:00\",\r\n    eventName = \"Ramadhan 1447 H\",\r\n    description = \"Mari bersiap menyambut bulan suci penuh berkah.\"\r\n}: CountdownSectionProps) {\r\n    const { days, hours, minutes, seconds, isExpired } = useCountdown(targetDate);\r\n    const [mounted, setMounted] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setMounted(true);\r\n    }, []);\r\n\r\n    if (isExpired) return null;\r\n\r\n    return (\r\n        <section className=\"relative py-20 px-4 overflow-hidden -mt-10 mb-10 z-20\">\r\n            <div className=\"container-custom mx-auto\">\r\n                <motion.div\r\n                    initial={{ opacity: 0, y: 20 }}\r\n                    whileInView={{ opacity: 1, y: 0 }}\r\n                    transition={{ duration: 0.8 }}\r\n                    viewport={{ once: true }}\r\n                    className=\"flex flex-col items-center justify-center mb-10 space-y-3\"\r\n                >\r\n                    {/* Decorative Badge */}\r\n                    <div className=\"inline-flex items-center gap-2 px-4 py-1.5 rounded-full bg-emerald-100/50 border border-emerald-200 text-emerald-700 text-xs font-bold tracking-[0.2em] uppercase shadow-sm\">\r\n                        <Sparkles className=\"w-3 h-3\" />\r\n                        <span>Special Event</span>\r\n                        <Sparkles className=\"w-3 h-3\" />\r\n                    </div>\r\n\r\n                    {/* Main Premium Title */}\r\n                    <h2 className=\"text-3xl md:text-5xl font-bold font-heading tracking-tight text-center relative z-10\">\r\n                        <span className=\"bg-clip-text text-transparent bg-gradient-to-r from-slate-900 via-emerald-800 to-slate-900 drop-shadow-sm\">\r\n                            Countdown Hari Besar\r\n                        </span>\r\n                        <br className=\"md:hidden\" />\r\n                        <span className=\"md:ml-3 text-emerald-600 font-serif italic font-light relative\">\r\n                            Selanjutnya\r\n                            {/* Underline decoration */}\r\n                            <svg className=\"absolute -bottom-2 left-0 w-full h-2 text-emerald-300 opacity-60\" viewBox=\"0 0 100 10\" preserveAspectRatio=\"none\">\r\n                                <path d=\"M0 5 Q 50 10 100 5\" stroke=\"currentColor\" strokeWidth=\"2\" fill=\"none\" />\r\n                            </svg>\r\n                        </span>\r\n                    </h2>\r\n                </motion.div>\r\n\r\n                <div className=\"relative bg-gradient-to-br from-emerald-900 via-teal-900 to-slate-900 border border-emerald-500/30 rounded-[2.5rem] p-8 md:p-12 shadow-2xl overflow-hidden ring-1 ring-emerald-400/20\">\r\n\r\n                    {/* Islamic Geometric Pattern Overlay (Arabesque) */}\r\n                    <div className=\"absolute inset-0 opacity-[0.07]\"\r\n                        style={{\r\n                            backgroundImage: `url(\"data:image/svg+xml,%3Csvg width='60' height='60' viewBox='0 0 60 60' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%2310b981' fill-opacity='1'%3E%3Cpath d='M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E\")`\r\n                        }}\r\n                    />\r\n\r\n                    {/* Decorative Crescent Moon & Star (Floating) */}\r\n                    <div className=\"absolute top-0 right-0 p-12 pointer-events-none opacity-20\">\r\n                        <Moon className=\"w-64 h-64 text-emerald-200 -translate-y-1/2 translate-x-1/3 rotate-[-15deg]\" strokeWidth={0.5} />\r\n                    </div>\r\n                    <div className=\"absolute bottom-10 left-10 pointer-events-none opacity-30\">\r\n                        <Star className=\"w-12 h-12 text-yellow-400 animate-pulse\" fill=\"currentColor\" />\r\n                    </div>\r\n\r\n                    <div className=\"absolute top-10 left-1/4 pointer-events-none opacity-20\">\r\n                        <Star className=\"w-6 h-6 text-emerald-200 animate-pulse [animation-delay:1s]\" />\r\n                    </div>\r\n\r\n                    {/* Glowing Orbs */}\r\n                    <div className=\"absolute top-0 right-0 w-[500px] h-[500px] bg-emerald-500/20 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/3 pointer-events-none\" />\r\n                    <div className=\"absolute bottom-0 left-0 w-[400px] h-[400px] bg-teal-500/20 rounded-full blur-[80px] translate-y-1/3 -translate-x-1/3 pointer-events-none\" />\r\n\r\n                    <div className=\"relative z-10 flex flex-col md:flex-row items-center justify-between gap-10\">\r\n                        {/* Text Content */}\r\n                        <div className=\"text-center md:text-left space-y-4 max-w-lg\">\r\n                            <motion.div\r\n                                initial={{ opacity: 0, y: 20 }}\r\n                                whileInView={{ opacity: 1, y: 0 }}\r\n                                transition={{ duration: 0.6 }}\r\n                                viewport={{ once: true }}\r\n                            >\r\n                                <h2 className=\"text-emerald-400 font-bold uppercase tracking-[0.2em] text-sm mb-2 flex items-center justify-center md:justify-start gap-2\">\r\n                                    <span className=\"w-8 h-[1px] bg-emerald-400\"></span>\r\n                                    Upcoming Event\r\n                                </h2>\r\n                                <h3 className=\"text-4xl md:text-6xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-white via-emerald-100 to-emerald-200 leading-tight drop-shadow-sm font-heading\">{eventName}</h3>\r\n                                <p className=\"text-emerald-100/70 text-lg mt-4 leading-relaxed font-light\">{description}</p>\r\n                            </motion.div>\r\n                        </div>\r\n\r\n                        {/* Timer Cards */}\r\n                        <div className=\"grid grid-cols-2 md:grid-cols-4 gap-4 md:gap-6 w-full md:w-auto\">\r\n                            {mounted ? (\r\n                                <>\r\n                                    <TimeUnit value={days} label=\"Hari\" delay={0.1} />\r\n                                    <TimeUnit value={hours} label=\"Jam\" delay={0.2} />\r\n                                    <TimeUnit value={minutes} label=\"Menit\" delay={0.3} />\r\n                                    <TimeUnit value={seconds} label=\"Detik\" delay={0.4} />\r\n                                </>\r\n                            ) : (\r\n                                <>\r\n                                    {[...Array(4)].map((_, i) => (\r\n                                        <div key={i} className=\"flex flex-col items-center justify-center p-4 rounded-2xl bg-white/5 border border-white/5 shadow-inner h-[110px] w-full animate-pulse\"></div>\r\n                                    ))}\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </section>\r\n    );\r\n}\r\n\r\nfunction TimeUnit({ value, label, delay }: { value: number; label: string; delay: number }) {\r\n    const formattedValue = value < 10 ? `0${value}` : value;\r\n\r\n    return (\r\n        <motion.div\r\n            initial={{ opacity: 0, scale: 0.9 }}\r\n            animate={{ opacity: 1, scale: 1 }}\r\n            transition={{ duration: 0.5, delay, type: \"spring\", stiffness: 100 }}\r\n            className=\"flex flex-col items-center justify-center p-4 rounded-2xl bg-emerald-950/40 backdrop-blur-md border border-emerald-500/20 shadow-[0_8px_32px_0_rgba(0,0,0,0.3)] group hover:bg-emerald-900/40 transition-all hover:scale-105 hover:border-emerald-400/40\"\r\n        >\r\n            <AnimatePresence mode=\"popLayout\">\r\n                <motion.span\r\n                    key={formattedValue}\r\n                    initial={{ y: 20, opacity: 0 }}\r\n                    animate={{ y: 0, opacity: 1 }}\r\n                    exit={{ y: -20, opacity: 0 }}\r\n                    transition={{ duration: 0.3 }}\r\n                    className=\"text-4xl md:text-5xl font-bold text-white tracking-tight font-heading tabular-nums block drop-shadow-[0_2px_10px_rgba(16,185,129,0.5)]\"\r\n                >\r\n                    {formattedValue}\r\n                </motion.span>\r\n            </AnimatePresence>\r\n            <span className=\"text-xs md:text-sm text-emerald-400 font-medium uppercase tracking-widest mt-2 group-hover:text-emerald-300 transition-colors\">{label}</span>\r\n        </motion.div>\r\n    );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\public\\DonationSection.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\public\\Footer.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\public\\GallerySection.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Play' is defined but never used.","line":6,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":6,"endColumn":7,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Play"},"fix":{"range":[128,133],"text":""},"desc":"Remove unused variable \"Play\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'ArrowRight' is defined but never used.","line":7,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":13,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"ArrowRight"},"fix":{"range":[132,148],"text":""},"desc":"Remove unused variable \"ArrowRight\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Instagram' is defined but never used.","line":9,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":9,"endColumn":12,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"Instagram"},"fix":{"range":[160,175],"text":""},"desc":"Remove unused variable \"Instagram\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'Link' is defined but never used.","line":14,"column":8,"nodeType":"Identifier","messageId":"unusedVar","endLine":14,"endColumn":12,"suggestions":[{"messageId":"removeUnusedImportDeclaration","data":{"varName":"Link"},"fix":{"range":[258,287],"text":""},"desc":"Remove unused import declaration."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CarouselNext' is defined but never used.","line":21,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":21,"endColumn":15,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CarouselNext"},"fix":{"range":[425,442],"text":""},"desc":"Remove unused variable \"CarouselNext\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'CarouselPrevious' is defined but never used.","line":22,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":22,"endColumn":19,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"CarouselPrevious"},"fix":{"range":[442,463],"text":""},"desc":"Remove unused variable \"CarouselPrevious\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'current' is assigned a value but never used.","line":32,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":32,"endColumn":17},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'count' is assigned a value but never used.","line":33,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":33,"endColumn":15},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'showInfo' is assigned a value but never used.","line":34,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":34,"endColumn":18},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setShowInfo' is assigned a value but never used.","line":34,"column":20,"nodeType":"Identifier","messageId":"unusedVar","endLine":34,"endColumn":31},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'isFullscreen' is assigned a value but never used.","line":35,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":35,"endColumn":22},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'setIsFullscreen' is assigned a value but never used.","line":35,"column":24,"nodeType":"Identifier","messageId":"unusedVar","endLine":35,"endColumn":39},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'fullscreenRef' is assigned a value but never used.","line":36,"column":9,"nodeType":"Identifier","messageId":"unusedVar","endLine":36,"endColumn":22},{"ruleId":"react-hooks/set-state-in-effect","severity":2,"message":"Error: Calling setState synchronously within an effect can trigger cascading renders\n\nEffects are intended to synchronize state between React and external systems such as manually updating the DOM, state management libraries, or other platform APIs. In general, the body of an effect should do one or both of the following:\n* Update external systems with the latest state from React.\n* Subscribe for updates from some external system, calling setState in a callback function when external state changes.\n\nCalling setState synchronously within an effect body causes cascading renders that can hurt performance, and is not recommended. (https://react.dev/learn/you-might-not-need-an-effect).\n\nC:\\Users\\USER\\Documents\\website-risma\\src\\components\\public\\GallerySection.tsx:57:5\n  55 |     }\n  56 |  \n> 57 |     setCount(api.scrollSnapList().length)\n     |     ^^^^^^^^ Avoid calling setState() directly within an effect\n  58 |     setCurrent(api.selectedScrollSnap() + 1)\n  59 |  \n  60 |     api.on(\"select\", () => {","line":57,"column":5,"nodeType":null,"endLine":57,"endColumn":13},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":81,"column":93,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[3471,3581],"text":"\r\n              Momen-momen berharga kebersamaan dan keceriaan dalam setiap agenda Masjid Jami&apos;.\r\n            "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[3471,3581],"text":"\r\n              Momen-momen berharga kebersamaan dan keceriaan dalam setiap agenda Masjid Jami&lsquo;.\r\n            "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[3471,3581],"text":"\r\n              Momen-momen berharga kebersamaan dan keceriaan dalam setiap agenda Masjid Jami&#39;.\r\n            "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[3471,3581],"text":"\r\n              Momen-momen berharga kebersamaan dan keceriaan dalam setiap agenda Masjid Jami&rsquo;.\r\n            "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"@typescript-eslint/no-explicit-any","severity":2,"message":"Unexpected any. Specify a different type.","line":156,"column":61,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":156,"endColumn":64,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[6383,6386],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[6383,6386],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":13,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { \r\n  Play, \r\n  ArrowRight, \r\n  Camera, \r\n  Instagram, \r\n  Image as ImageIcon,\r\n  ChevronLeft,\r\n  ChevronRight\r\n} from \"lucide-react\";\r\nimport Link from \"next/link\";\r\nimport Image from \"next/image\";\r\nimport { useState, useEffect } from \"react\";\r\nimport {\r\n  Carousel,\r\n  CarouselContent,\r\n  CarouselItem,\r\n  CarouselNext,\r\n  CarouselPrevious,\r\n} from \"@/components/ui/carousel\";\r\nimport { Dialog, DialogContent, DialogTrigger, DialogTitle } from \"@/components/ui/dialog\";\r\n\r\nimport { GalleryItem } from \"@/types\";\r\n\r\nimport { CarouselApi } from \"@/components/ui/carousel\";\r\n\r\nexport function GallerySection({ initialData }: { initialData?: GalleryItem[] }) {\r\n  const [api, setApi] = useState<CarouselApi>()\r\n  const [current, setCurrent] = useState(0)\r\n  const [count, setCount] = useState(0)\r\n  const [showInfo, setShowInfo] = useState(true);\r\n  const [isFullscreen, setIsFullscreen] = useState(false);\r\n  const fullscreenRef = useState<{ [key: string]: HTMLDivElement | null }>({})[0]; // Using a map ref approach or simpler single ref? \r\n  // actually, simpler state-based approach for the active item or just a general ref if we only open one dialog at a time.\r\n  // Since carousel items map, let's just use a ref for the currently open content if possible, or simpler: \r\n  // We can't easily use one ref for all map items unless we track the active one. \r\n  // However, the Dialog is inside the map. This means each item has its own Dialog. \r\n  // Let's create a sub-component for the Gallery Item to handle its own state cleanly, \r\n  // OR we can keep it here but we need to be careful about hooks in loops.\r\n  // Actually, hooks inside map is BAD. \r\n  // Wait, the current code has `displayItems.map(...)`.\r\n  // Inside the map, it returns `CarouselItem`.\r\n  // If I add `useState` inside the map loop (inline), it violates React rules.\r\n  // I MUST extract the `GalleryModalItem` into a separate component.\r\n  \r\n  // Use initialData if available, otherwise fallback to empty (or static)\r\n  const displayItems = initialData || [];\r\n\r\n  useEffect(() => {\r\n    if (!api) {\r\n      return\r\n    }\r\n \r\n    setCount(api.scrollSnapList().length)\r\n    setCurrent(api.selectedScrollSnap() + 1)\r\n \r\n    api.on(\"select\", () => {\r\n      setCurrent(api.selectedScrollSnap() + 1)\r\n    })\r\n  }, [api])\r\n\r\n  return (\r\n    <section id=\"galeri\" className=\"section-padding bg-slate-50 relative overflow-hidden\">\r\n      {/* Background Decor */}\r\n      <div className=\"absolute top-0 right-0 w-[500px] h-[500px] bg-emerald-100/50 rounded-full blur-[100px] -translate-y-1/2 translate-x-1/2\" />\r\n      \r\n      <div className=\"container-custom relative\">\r\n        <div className=\"flex flex-col md:flex-row items-start md:items-end justify-between mb-8 md:mb-12 relative z-10 px-4\">\r\n          <div className=\"max-w-2xl\">\r\n             <div className=\"inline-flex items-center gap-2 mb-3 bg-white px-3 py-1 rounded-full shadow-sm border border-slate-100\">\r\n               <Camera className=\"w-4 h-4 text-emerald-600\" />\r\n               <span className=\"text-xs font-bold tracking-widest uppercase text-emerald-700\">Dokumentasi</span>\r\n            </div>\r\n            <h2 className=\"text-4xl md:text-5xl font-bold tracking-tight text-slate-900 mb-4\">\r\n              Galeri Kegiatan\r\n            </h2>\r\n            <p className=\"text-slate-500 text-lg leading-relaxed\">\r\n              Momen-momen berharga kebersamaan dan keceriaan dalam setiap agenda Masjid Jami'.\r\n            </p>\r\n          </div>\r\n          \r\n          {/* Custom Header Buttons */}\r\n          <div className=\"flex gap-2 relative z-10 self-end md:self-auto\">\r\n             <Button \r\n               onClick={() => api?.scrollPrev()} \r\n               variant=\"outline\" \r\n               size=\"icon\" \r\n               aria-label=\"Previous slide\"\r\n               className=\"h-12 w-12 rounded-full border-slate-200 bg-white hover:bg-emerald-50 hover:text-emerald-600 transition-all shadow-sm\"\r\n             >\r\n               <ChevronLeft className=\"w-6 h-6\" />\r\n             </Button>\r\n             <Button \r\n               onClick={() => api?.scrollNext()} \r\n               variant=\"outline\" \r\n               size=\"icon\" \r\n               aria-label=\"Next slide\"\r\n               className=\"h-12 w-12 rounded-full border-slate-200 bg-white hover:bg-emerald-50 hover:text-emerald-600 transition-all shadow-sm\"\r\n             >\r\n               <ChevronRight className=\"w-6 h-6\" />\r\n             </Button>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Carousel */}\r\n        <div className=\"relative\">\r\n          <Carousel\r\n            setApi={setApi}\r\n            opts={{\r\n              align: \"start\",\r\n              loop: true,\r\n            }}\r\n            className=\"w-full\"\r\n          >\r\n            <CarouselContent className=\"items-center -ml-8 pb-10\">\r\n              {displayItems.map((item, index) => {\r\n                 // Dynamic border radius for aesthetic organic feel\r\n                 const shapes = [\r\n                   \"rounded-[40px_10px_40px_10px]\",\r\n                   \"rounded-[10px_40px_10px_40px]\",\r\n                   \"rounded-[40px]\",\r\n                   \"rounded-[20px_50px_20px_50px]\"\r\n                 ];\r\n                 const shapeClass = shapes[index % shapes.length];\r\n                 \r\n                 return (\r\n                  <CarouselItem key={item.id} className=\"pl-8 md:basis-1/2 lg:basis-1/3\">\r\n                    <GalleryModalItem item={item} shapeClass={shapeClass} />\r\n                  </CarouselItem>\r\n                );\r\n              })}\r\n            </CarouselContent>\r\n            \r\n            {/* Native Buttons Removed */}\r\n          </Carousel>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nimport { Maximize2, Minimize2, Eye, EyeOff, X } from \"lucide-react\";\r\nimport { useRef } from \"react\";\r\nimport { DialogClose } from \"@/components/ui/dialog\";\r\n\r\nfunction GalleryModalItem({ item, shapeClass }: { item: GalleryItem, shapeClass: string }) {\r\n  const [showInfo, setShowInfo] = useState(true);\r\n  const [isFullscreen, setIsFullscreen] = useState(false);\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n\r\n  const toggleFullscreen = () => {\r\n    if (!document.fullscreenElement) {\r\n      containerRef.current?.requestFullscreen().catch((err: any) => {\r\n        console.error(`Error attempting to enable fullscreen: ${err.message}`);\r\n      });\r\n      setIsFullscreen(true);\r\n    } else {\r\n      if (document.exitFullscreen) {\r\n        document.exitFullscreen();\r\n        setIsFullscreen(false);\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const handleFullscreenChange = () => {\r\n      setIsFullscreen(!!document.fullscreenElement);\r\n    };\r\n\r\n    document.addEventListener(\"fullscreenchange\", handleFullscreenChange);\r\n    return () => {\r\n      document.removeEventListener(\"fullscreenchange\", handleFullscreenChange);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <Dialog>\r\n      <DialogTrigger asChild>\r\n        <div className={`group relative h-[400px] w-full bg-white shadow-lg cursor-pointer overflow-hidden transition-all duration-500 hover:shadow-2xl hover:-translate-y-2 ${shapeClass} border-4 border-white`}>\r\n          <Image\r\n            src={item.src}\r\n            alt={item.alt}\r\n            fill\r\n            className=\"object-cover transition-transform duration-700 group-hover:scale-110\"\r\n            sizes=\"(max-width: 768px) 100vw, (max-width: 1200px) 50vw, 33vw\"\r\n          />\r\n           <div className=\"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex flex-col justify-end p-8\">\r\n            <span className=\"text-emerald-400 font-bold text-sm mb-2 uppercase tracking-wider\">{item.category}</span>\r\n            <h3 className=\"text-white text-2xl font-bold\">{item.alt}</h3>\r\n          </div>\r\n          \r\n          {/* Play Icon Overlay */}\r\n          <div className=\"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-16 h-16 bg-white/20 backdrop-blur-sm rounded-full flex items-center justify-center opacity-0 group-hover:opacity-100 transition-all duration-500 scale-50 group-hover:scale-100 border border-white/30\">\r\n             <ImageIcon className=\"w-8 h-8 text-white\" />\r\n          </div>\r\n        </div>\r\n      </DialogTrigger>\r\n      <DialogContent showCloseButton={false} className=\"max-w-6xl w-full border-none bg-transparent shadow-none p-0 text-white overflow-hidden\">\r\n         <div \r\n           ref={containerRef}\r\n           className={`relative w-full aspect-video rounded-2xl overflow-hidden bg-black shadow-2xl group ${isFullscreen ? 'h-screen w-screen rounded-none' : ''}`}\r\n         >\r\n           <Image \r\n             src={item.src} \r\n             alt={item.alt} \r\n             fill \r\n             className={`object-contain transition-all duration-300 ${!showInfo ? 'scale-100' : ''}`}\r\n             priority \r\n             onClick={() => setShowInfo(!showInfo)}\r\n           />\r\n\r\n            {/* Controls */}\r\n            <div className={`absolute top-4 right-4 flex gap-2 z-50 transition-opacity duration-300 ${showInfo ? 'opacity-100' : 'opacity-0 group-hover:opacity-100'}`}>\r\n             <Button\r\n               variant=\"secondary\"\r\n               size=\"icon\"\r\n               className=\"h-10 w-10 rounded-full bg-black/40 hover:bg-black/60 text-white border border-white/10 backdrop-blur-md\"\r\n               onClick={() => setShowInfo(!showInfo)}\r\n               title={showInfo ? \"Sembunyikan Info\" : \"Tampilkan Info\"}\r\n             >\r\n               {showInfo ? <EyeOff className=\"w-5 h-5\" /> : <Eye className=\"w-5 h-5\" />}\r\n             </Button>\r\n             <Button\r\n               variant=\"secondary\"\r\n               size=\"icon\"\r\n               className=\"h-10 w-10 rounded-full bg-black/40 hover:bg-black/60 text-white border border-white/10 backdrop-blur-md\"\r\n               onClick={toggleFullscreen}\r\n               title={isFullscreen ? \"Keluar Fullscreen\" : \"Fullscreen\"}\r\n             >\r\n               {isFullscreen ? <Minimize2 className=\"w-5 h-5\" /> : <Maximize2 className=\"w-5 h-5\" />}\r\n             </Button>\r\n             <DialogClose asChild>\r\n                <Button\r\n                  variant=\"secondary\"\r\n                  size=\"icon\"\r\n                  className=\"h-10 w-10 rounded-full bg-black/40 hover:bg-black/60 text-white border border-white/10 backdrop-blur-md\"\r\n                  title=\"Tutup\"\r\n                >\r\n                  <X className=\"w-5 h-5\" />\r\n                </Button>\r\n             </DialogClose>\r\n           </div>\r\n\r\n           {/* Info Overlay */}\r\n           <div className={`absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black via-black/60 to-transparent p-6 sm:p-8 backdrop-blur-sm transition-transform duration-500 ease-in-out ${showInfo ? 'translate-y-0 opacity-100' : 'translate-y-full opacity-0'}`}>\r\n              <div className=\"flex flex-col gap-2\">\r\n                 <Badge variant=\"outline\" className=\"text-white border-white/30 bg-white/10 w-fit capitalize px-3 py-1 text-xs tracking-wider mb-1 backdrop-blur-md\">{item.category}</Badge>\r\n                 <DialogTitle className=\"text-2xl sm:text-3xl font-bold text-white drop-shadow-md\">{item.alt}</DialogTitle>\r\n                 {item.caption && <p className=\"text-slate-200 text-sm sm:text-base max-w-3xl leading-relaxed drop-shadow-sm\">{item.caption}</p>}\r\n               </div>\r\n           </div>\r\n         </div>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\public\\Header.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'X' is defined but never used.","line":5,"column":16,"nodeType":"Identifier","messageId":"unusedVar","endLine":5,"endColumn":17,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"X"},"fix":{"range":[107,110],"text":""},"desc":"Remove unused variable \"X\"."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":62,"column":28,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[2292,2338],"text":"\r\n                Masjid Jami&apos;\r\n              "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[2292,2338],"text":"\r\n                Masjid Jami&lsquo;\r\n              "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[2292,2338],"text":"\r\n                Masjid Jami&#39;\r\n              "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[2292,2338],"text":"\r\n                Masjid Jami&rsquo;\r\n              "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":143,"column":38,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[6052,6118],"text":"\r\n                          Masjid Jami&apos;\r\n                        "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[6052,6118],"text":"\r\n                          Masjid Jami&lsquo;\r\n                        "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[6052,6118],"text":"\r\n                          Masjid Jami&#39;\r\n                        "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[6052,6118],"text":"\r\n                          Masjid Jami&rsquo;\r\n                        "},"desc":"Replace with `&rsquo;`."}]},{"ruleId":"react/no-unescaped-entities","severity":2,"message":"`'` can be escaped with `&apos;`, `&lsquo;`, `&#39;`, `&rsquo;`.","line":197,"column":41,"nodeType":"JSXText","messageId":"unescapedEntityAlts","suggestions":[{"messageId":"replaceWithAlt","data":{"alt":"&apos;"},"fix":{"range":[9200,9274],"text":"\r\n                       2026 Masjid Jami&apos; Al Arqam\r\n                    "},"desc":"Replace with `&apos;`."},{"messageId":"replaceWithAlt","data":{"alt":"&lsquo;"},"fix":{"range":[9200,9274],"text":"\r\n                       2026 Masjid Jami&lsquo; Al Arqam\r\n                    "},"desc":"Replace with `&lsquo;`."},{"messageId":"replaceWithAlt","data":{"alt":"&#39;"},"fix":{"range":[9200,9274],"text":"\r\n                       2026 Masjid Jami&#39; Al Arqam\r\n                    "},"desc":"Replace with `&#39;`."},{"messageId":"replaceWithAlt","data":{"alt":"&rsquo;"},"fix":{"range":[9200,9274],"text":"\r\n                       2026 Masjid Jami&rsquo; Al Arqam\r\n                    "},"desc":"Replace with `&rsquo;`."}]}],"suppressedMessages":[],"errorCount":3,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport Link from \"next/link\";\r\nimport { Menu, X, Landmark, ArrowRight } from \"lucide-react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Sheet, SheetContent, SheetTrigger, SheetTitle } from \"@/components/ui/sheet\";\r\nimport { cn } from \"@/lib/utils\";\r\nimport { motion, AnimatePresence } from \"framer-motion\";\r\nimport { transitions } from \"@/lib/motion\";\r\n\r\nimport { navItems } from \"@/data\";\r\n\r\nexport function Header() {\r\n  const [isScrolled, setIsScrolled] = useState(false);\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [hoveredIndex, setHoveredIndex] = useState<number | null>(null);\r\n\r\n  useEffect(() => {\r\n    const handleScroll = () => {\r\n      setIsScrolled(window.scrollY > 10);\r\n    };\r\n    window.addEventListener(\"scroll\", handleScroll);\r\n    return () => window.removeEventListener(\"scroll\", handleScroll);\r\n  }, []);\r\n\r\n  return (\r\n    <motion.header\r\n      initial={{ y: -100 }}\r\n      animate={{ y: 0 }}\r\n      transition={{ ...transitions.layout, damping: 20 }}\r\n      className={cn(\r\n        \"fixed top-0 left-0 right-0 z-50 transition-all duration-300\",\r\n        isScrolled\r\n          ? \"bg-white/95 dark:bg-slate-900/95 backdrop-blur-md shadow-sm\"\r\n          : \"bg-transparent\"\r\n      )}\r\n    >\r\n      <div className=\"container-custom\">\r\n        <div className=\"flex items-center justify-between h-16 md:h-20\">\r\n          {/* Logo */}\r\n          <Link href=\"/\" className=\"flex items-center gap-2\">\r\n            {/* Logo Icon */}\r\n            <div className=\"w-8 h-8 rounded-lg bg-slate-900 text-white flex items-center justify-center\">\r\n              <Landmark className=\"w-4 h-4\" />\r\n            </div>\r\n            <div className=\"hidden sm:block\">\r\n              <span\r\n                className={cn(\r\n                  \"block font-bold text-lg transition-colors leading-none\",\r\n                  isScrolled ? \"text-emerald-deep\" : \"text-slate-900\"\r\n                )}\r\n              >\r\n                AL ARQAM\r\n              </span>\r\n              <span\r\n                className={cn(\r\n                  \"block text-xs transition-colors tracking-widest uppercase\",\r\n                  isScrolled ? \"text-muted-foreground\" : \"text-slate-600\"\r\n                )}\r\n              >\r\n                Masjid Jami'\r\n              </span>\r\n            </div>\r\n          </Link>\r\n\r\n          {/* Desktop Navigation - Premium Floating Pill */}\r\n          <nav className=\"hidden md:flex items-center gap-1\" onMouseLeave={() => setHoveredIndex(null)}>\r\n            {navItems.map((item, index) => (\r\n              <Link\r\n                key={item.href}\r\n                href={item.href}\r\n                onMouseEnter={() => setHoveredIndex(index)}\r\n                className={cn(\r\n                  \"relative px-4 py-2 rounded-lg font-medium transition-colors duration-200\",\r\n                  isScrolled ? \"text-slate-700\" : \"text-slate-800\"\r\n                )}\r\n              >\r\n                {/* Floating Background Pill */}\r\n                <AnimatePresence>\r\n                  {hoveredIndex === index && (\r\n                    <motion.span\r\n                      layoutId=\"nav-pill\"\r\n                      className={cn(\r\n                        \"absolute inset-0 rounded-lg -z-10\",\r\n                        isScrolled ? \"bg-emerald-50 text-emerald-600\" : \"bg-white/40 backdrop-blur-sm\"\r\n                      )}\r\n                      initial={{ opacity: 0, scale: 0.9 }}\r\n                      animate={{ opacity: 1, scale: 1 }}\r\n                      exit={{ opacity: 0, scale: 0.9 }}\r\n                      transition={{ type: \"spring\", stiffness: 350, damping: 30 }}\r\n                    />\r\n                  )}\r\n                </AnimatePresence>\r\n\r\n                <span className=\"relative z-10\">{item.label}</span>\r\n              </Link>\r\n            ))}\r\n          </nav>\r\n\r\n          {/* CTA Button + Mobile Menu */}\r\n          <div className=\"flex items-center gap-3\">\r\n            <Button\r\n              asChild\r\n              className=\"hidden sm:flex bg-slate-900 hover:bg-slate-800 text-white font-semibold shadow-lg hover:scale-105 transition-all\"\r\n            >\r\n              <Link href=\"#donasi\">\r\n                Donasi\r\n              </Link>\r\n            </Button>\r\n\r\n            {/* Mobile Menu */}\r\n            <Sheet open={isOpen} onOpenChange={setIsOpen}>\r\n              <SheetTrigger asChild className=\"md:hidden\">\r\n                <Button\r\n                  variant=\"ghost\"\r\n                  size=\"icon\"\r\n                  aria-label=\"Open mobile menu\"\r\n                  suppressHydrationWarning\r\n                  className={cn(\r\n                    isScrolled\r\n                      ? \"text-foreground\"\r\n                      : \"text-slate-900 hover:bg-slate-100\"\r\n                  )}\r\n                >\r\n                  <Menu className=\"h-6 w-6\" />\r\n                  <span className=\"sr-only\">Toggle menu</span>\r\n                </Button>\r\n              </SheetTrigger>\r\n              <SheetContent side=\"right\" className=\"w-[300px] sm:w-[400px] border-l border-white/20 bg-white/80 dark:bg-slate-900/80 backdrop-blur-xl p-0 flex flex-col h-full\">\r\n                {/* Sidebar Header */}\r\n                <div className=\"p-6 border-b border-slate-100 dark:border-slate-800\">\r\n                  <SheetTitle className=\"text-left\">\r\n                    <div className=\"flex items-center gap-3\">\r\n                      <div className=\"w-12 h-12 rounded-xl bg-gradient-to-br from-emerald-500 to-teal-600 flex items-center justify-center shadow-lg shadow-emerald-500/20\">\r\n                        <Landmark className=\"w-6 h-6 text-white\" />\r\n                      </div>\r\n                      <div>\r\n                        <span className=\"font-bold text-xl text-slate-900 dark:text-white tracking-tight\">\r\n                          AL ARQAM\r\n                        </span>\r\n                        <span className=\"block text-xs font-medium text-emerald-600 dark:text-emerald-400 uppercase tracking-widest\">\r\n                          Masjid Jami'\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  </SheetTitle>\r\n                </div>\r\n\r\n                {/* Sidebar Links */}\r\n                <nav className=\"flex-1 overflow-y-auto py-8 px-6 flex flex-col gap-2\">\r\n                  {navItems.map((item, index) => (\r\n                    <motion.div\r\n                      key={item.href}\r\n                      initial={{ opacity: 0, x: 20 }}\r\n                      animate={{ opacity: 1, x: 0 }}\r\n                      transition={{ delay: 0.1 * index }}\r\n                    >\r\n                      <Link\r\n                        href={item.href}\r\n                        onClick={() => setIsOpen(false)}\r\n                        className=\"group relative flex items-center justify-between px-4 py-4 rounded-xl text-lg font-medium text-slate-600 dark:text-slate-300 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 hover:text-emerald-700 dark:hover:text-emerald-400\"\r\n                      >\r\n                        <span className=\"relative z-10\">{item.label}</span>\r\n                        <ArrowRight className=\"w-5 h-5 opacity-0 -translate-x-2 transition-all duration-300 group-hover:opacity-100 group-hover:translate-x-0 text-emerald-500\" />\r\n                      </Link>\r\n                    </motion.div>\r\n                  ))}\r\n                  <motion.div\r\n                    initial={{ opacity: 0, x: 20 }}\r\n                    animate={{ opacity: 1, x: 0 }}\r\n                    transition={{ delay: 0.1 * navItems.length }}\r\n                  >\r\n                    <Link\r\n                      href=\"/auth/login\"\r\n                      onClick={() => setIsOpen(false)}\r\n                      className=\"group relative flex items-center justify-between px-4 py-4 rounded-xl text-lg font-medium text-slate-600 dark:text-slate-300 transition-all duration-300 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 hover:text-emerald-700 dark:hover:text-emerald-400 lg:hidden\"\r\n                    >\r\n                      <span className=\"relative z-10\">Admin Login</span>\r\n                      <ArrowRight className=\"w-5 h-5 opacity-0 -translate-x-2 transition-all duration-300 group-hover:opacity-100 group-hover:translate-x-0 text-emerald-500\" />\r\n                    </Link>\r\n                  </motion.div>\r\n                </nav>\r\n\r\n                {/* Sidebar Footer */}\r\n                <div className=\"p-6 bg-slate-50/50 dark:bg-black/20 border-t border-slate-100 dark:border-slate-800\">\r\n                  <Button\r\n                    asChild\r\n                    className=\"w-full h-12 rounded-xl text-md font-bold bg-slate-900 text-white hover:bg-slate-800 shadow-xl shadow-slate-900/10 transition-all hover:scale-[1.02]\"\r\n                  >\r\n                    <Link href=\"#donasi\" onClick={() => setIsOpen(false)}>\r\n                      Donasi Sekarang\r\n                    </Link>\r\n                  </Button>\r\n                  <div className=\"mt-6 text-center\">\r\n                    <p className=\"text-xs text-slate-400 font-medium\">\r\n                       2026 Masjid Jami' Al Arqam\r\n                    </p>\r\n                  </div>\r\n                </div>\r\n              </SheetContent>\r\n            </Sheet>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </motion.header>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\public\\Hero.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'fadeUp' is defined but never used.","line":7,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":16,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"fadeUp"},"fix":{"range":[208,215],"text":""},"desc":"Remove unused variable \"fadeUp\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'staggerContainer' is defined but never used.","line":7,"column":18,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":34,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"staggerContainer"},"fix":{"range":[214,232],"text":""},"desc":"Remove unused variable \"staggerContainer\"."}]},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'tagline' is assigned a value but never used.","line":19,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":19,"endColumn":10},{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'backgroundImage' is assigned a value but never used.","line":20,"column":3,"nodeType":"Identifier","messageId":"unusedVar","endLine":20,"endColumn":18}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport Link from \"next/link\";\r\nimport { ArrowRight, Calendar, Play } from \"lucide-react\";\r\nimport { motion } from \"framer-motion\";\r\nimport { fadeUp, staggerContainer, transitions } from \"@/lib/motion\";\r\n\r\ninterface HeroProps {\r\n  mosqueName?: string;\r\n  tagline?: string;\r\n  backgroundImage?: string;\r\n  latestEventTitle?: string;\r\n  latestGalleryImage?: string;\r\n}\r\n\r\nexport function Hero({\r\n  mosqueName = \"Al Arqam\",\r\n  tagline = \"Pusat Peradaban & Ukhuwah Islamiyah\",\r\n  backgroundImage = \"/images/mosque-hero.jpg\",\r\n  latestEventTitle = \"Kajian Akbar 2026\",\r\n  latestGalleryImage = \"/images/mosque-hero.jpg\",\r\n}: HeroProps) {\r\n  return (\r\n    <section className=\"relative min-h-screen flex items-center overflow-hidden bg-slate-50 text-slate-900 selection:bg-emerald-200\">\r\n\r\n      {/* 1. Dynamic Background Layer - OPTIMIZED */}\r\n      <div className=\"absolute inset-0 z-0\">\r\n        <div className=\"absolute inset-0 bg-gradient-to-br from-slate-50 via-white to-emerald-50\" />\r\n\r\n        {/* Optimized: Repalced heavy live filters with simpler opacity transitions or consolidated layers */}\r\n        {/* We use will-change-transform to hint the browser */}\r\n        <motion.div\r\n          initial={{ opacity: 0, scale: 0.8 }}\r\n          animate={{ opacity: 1, scale: 1 }}\r\n          transition={{ duration: 2, ease: \"easeOut\" }}\r\n          className=\"absolute top-[-20%] left-[-10%] w-[800px] h-[800px] bg-emerald-200/30 rounded-full blur-[100px] will-change-transform\"\r\n        />\r\n        <motion.div\r\n          initial={{ opacity: 0, scale: 0.8 }}\r\n          animate={{ opacity: 1, scale: 1 }}\r\n          transition={{ duration: 2, delay: 0.5, ease: \"easeOut\" }}\r\n          className=\"absolute bottom-[-20%] right-[-10%] w-[600px] h-[600px] bg-teal-200/30 rounded-full blur-[80px] will-change-transform\"\r\n        />\r\n\r\n        {/* Noise Texture - Static */}\r\n        <div className=\"absolute inset-0 opacity-[0.03] mix-blend-multiply pointer-events-none\" style={{ backgroundImage: `url(\"data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.65' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E\")` }}></div>\r\n      </div>\r\n\r\n      {/* 2. Content Layer */}\r\n      <div className=\"relative z-10 w-full container-custom px-4 md:px-6 pt-32 pb-32\">\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-12 items-center\">\r\n\r\n          {/* Text Content - Staggered via CSS for LCP */}\r\n          <div className=\"lg:col-span-7 space-y-8\">\r\n\r\n            {/* Supertag */}\r\n            <div className=\"inline-flex items-center gap-2 px-3 py-1 rounded-full border border-emerald-200 bg-emerald-50 text-emerald-700 text-xs font-bold tracking-[0.2em] uppercase animate-fade-up [animation-delay:200ms] opacity-0 fill-mode-forwards\">\r\n              <span className=\"relative flex h-2 w-2\">\r\n                <span className=\"animate-ping absolute inline-flex h-full w-full rounded-full bg-emerald-400 opacity-75\"></span>\r\n                <span className=\"relative inline-flex rounded-full h-2 w-2 bg-emerald-500\"></span>\r\n              </span>\r\n              Est. 1990  Pusat Dakwah\r\n            </div>\r\n\r\n            {/* Typography */}\r\n            <h1 className=\"text-4xl sm:text-5xl md:text-7xl lg:text-8xl font-bold tracking-tight leading-[1.1] sm:leading-[0.9] text-slate-900 mt-4 sm:mt-0 animate-fade-up [animation-delay:300ms] opacity-0 fill-mode-forwards\">\r\n              MASJID <br />\r\n              <span className=\"font-serif italic font-normal text-emerald-600\">Jami&apos;</span> {mosqueName}\r\n            </h1>\r\n\r\n            <p className=\"text-base sm:text-lg md:text-xl text-slate-600 max-w-xl leading-relaxed border-l-2 border-emerald-500/30 pl-4 sm:pl-6 animate-fade-up [animation-delay:400ms] opacity-0 fill-mode-forwards\">\r\n              Pusat peribadatan dan pengembangan umat. Membangun masyarakat madani yang berlandaskan iman, ilmu, dan amal shaleh.\r\n            </p>\r\n\r\n            {/* Action Group */}\r\n            <div className=\"flex flex-col sm:flex-row items-stretch sm:items-center gap-4 pt-4 animate-fade-up [animation-delay:500ms] opacity-0 fill-mode-forwards\">\r\n              <Link href=\"#agenda\">\r\n                <Button\r\n                  size=\"lg\"\r\n                  className=\"w-full sm:w-auto rounded-full px-8 py-8 text-lg font-bold bg-emerald-600 hover:bg-emerald-700 text-white shadow-xl shadow-emerald-200 transition-all hover:scale-105\"\r\n                >\r\n                  <Calendar className=\"mr-2 h-5 w-5\" />\r\n                  Explore Agenda\r\n                </Button>\r\n              </Link>\r\n\r\n              <Link href=\"#kontak\">\r\n                <Button\r\n                  size=\"lg\"\r\n                  variant=\"outline\"\r\n                  className=\"w-full sm:w-auto rounded-full px-8 py-8 text-lg font-semibold border-slate-200 bg-white hover:bg-slate-50 text-slate-900 hover:text-emerald-700 transition-all\"\r\n                >\r\n                  <div className=\"w-8 h-8 rounded-full bg-slate-100 text-slate-900 flex items-center justify-center mr-3 group-hover:bg-emerald-100\">\r\n                    <Play className=\"w-4 h-4 fill-current ml-0.5\" />\r\n                  </div>\r\n                  Tentang Kami\r\n                </Button>\r\n              </Link>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Visual/Image Area (Right) */}\r\n          <div className=\"lg:col-span-5 relative hidden lg:block h-[600px]\">\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.8 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              transition={{ duration: 0.8, delay: 0.4, ...transitions.layout }}\r\n              className=\"absolute inset-0 bg-gradient-to-tr from-emerald-100 to-teal-100 rounded-[3rem] rotate-3 blur-3xl opacity-60\"\r\n            />\r\n\r\n            {/* Main Card Image - Floating Animation */}\r\n            <motion.div\r\n              initial={{ y: 40, opacity: 0 }}\r\n              animate={{ y: 0, opacity: 1 }}\r\n              whileHover={{ y: -10 }}\r\n              transition={{\r\n                duration: 0.8,\r\n                delay: 0.5,\r\n                type: \"spring\",\r\n                stiffness: 100, // Premium stiffness\r\n                damping: 20\r\n              }}\r\n              className=\"relative h-full w-full rounded-[3rem] overflow-hidden border border-white shadow-2xl bg-white group will-change-transform\"\r\n            >\r\n              <div\r\n                className=\"absolute inset-0 bg-cover bg-center transition-transform duration-700 group-hover:scale-105\"\r\n                style={{ backgroundImage: `url('${latestGalleryImage}')` }}\r\n              ></div>\r\n\r\n              {/* Overlay Gradient (Light) */}\r\n              <div className=\"absolute inset-0 bg-gradient-to-t from-slate-900/60 via-transparent to-transparent\" />\r\n\r\n              {/* Floating Stats Content */}\r\n              <motion.div\r\n                initial={{ opacity: 0, y: 10 }}\r\n                animate={{ opacity: 1, y: 0 }}\r\n                transition={{ delay: 0.8 }}\r\n                className=\"absolute bottom-10 left-10 right-10 p-6 bg-white/90 backdrop-blur-md border border-white/20 rounded-2xl shadow-lg\"\r\n              >\r\n                <div className=\"flex justify-between items-end\">\r\n                  <div>\r\n                    <p className=\"text-emerald-600 text-xs font-bold uppercase tracking-wider mb-1\">Next Event</p>\r\n                    <p className=\"text-slate-900 font-bold text-xl\">{latestEventTitle}</p>\r\n                  </div>\r\n                  <div className=\"h-10 w-10 rounded-full bg-slate-100 flex items-center justify-center text-slate-900\">\r\n                    <ArrowRight className=\"w-5 h-5 -rotate-45\" />\r\n                  </div>\r\n                </div>\r\n              </motion.div>\r\n            </motion.div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Modern Scroll Indicator */}\r\n      <motion.div\r\n        initial={{ opacity: 0 }}\r\n        animate={{ opacity: 1 }}\r\n        transition={{ delay: 1.2, duration: 1 }}\r\n        className=\"absolute bottom-10 left-10 md:left-auto md:right-10 flex items-center gap-4 text-slate-400 z-20\"\r\n      >\r\n        <span className=\"text-xs font-mono tracking-widest hidden md:block\">SCROLL TO EXPLORE</span>\r\n        <div className=\"h-px w-20 bg-slate-300\"></div>\r\n      </motion.div>\r\n    </section>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\public\\ShareButton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\public\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\ui\\accessible-card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\ui\\alert-dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\ui\\avatar.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\ui\\badge.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\ui\\button.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\ui\\card.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\ui\\carousel.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\ui\\dialog.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\ui\\dropdown-menu.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\ui\\input.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\ui\\label.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\ui\\rich-text-editor.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'placeholder' is defined but never used.","line":17,"column":51,"nodeType":"Identifier","messageId":"unusedVar","endLine":17,"endColumn":62}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport { useEditor, EditorContent } from \"@tiptap/react\";\r\nimport { useEffect } from \"react\";\r\nimport StarterKit from \"@tiptap/starter-kit\";\r\nimport Underline from \"@tiptap/extension-underline\";\r\nimport Link from \"@tiptap/extension-link\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Bold, Italic, Underline as UnderlineIcon, List, ListOrdered, Quote, Undo, Redo } from \"lucide-react\";\r\n\r\ninterface RichTextEditorProps {\r\n  value: string;\r\n  onChange: (value: string) => void;\r\n  placeholder?: string;\r\n}\r\n\r\nexport function RichTextEditor({ value, onChange, placeholder }: RichTextEditorProps) {\r\n  const editor = useEditor({\r\n    extensions: [\r\n      StarterKit,\r\n      Underline,\r\n      Link.configure({\r\n        openOnClick: false,\r\n      }),\r\n    ],\r\n    content: value,\r\n    immediatelyRender: false, // Fix SSR hydration mismatch\r\n    editorProps: {\r\n      attributes: {\r\n        class: \"min-h-[150px] w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-emerald-600 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 prose prose-sm max-w-none dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300\",\r\n      },\r\n    },\r\n    onUpdate: ({ editor }) => {\r\n      onChange(editor.getHTML());\r\n    },\r\n  });\r\n\r\n  // Sync value changes from parent (e.g. form reset)\r\n  useEffect(() => {\r\n    if (editor && value !== editor.getHTML()) {\r\n      editor.commands.setContent(value);\r\n    }\r\n  }, [value, editor]);\r\n\r\n  if (!editor) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"space-y-2\">\r\n       {/* Toolbar */}\r\n      <div className=\"flex flex-wrap items-center gap-1 p-1 border border-slate-200 rounded-lg bg-slate-50\">\r\n        <Button\r\n          type=\"button\"\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          onClick={() => editor.chain().focus().toggleBold().run()}\r\n          className={editor.isActive(\"bold\") ? \"bg-slate-200 text-slate-900\" : \"text-slate-500\"}\r\n          title=\"Bold\"\r\n        >\r\n          <Bold className=\"w-4 h-4\" />\r\n        </Button>\r\n        <Button\r\n          type=\"button\"\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          onClick={() => editor.chain().focus().toggleItalic().run()}\r\n          className={editor.isActive(\"italic\") ? \"bg-slate-200 text-slate-900\" : \"text-slate-500\"}\r\n          title=\"Italic\"\r\n        >\r\n          <Italic className=\"w-4 h-4\" />\r\n        </Button>\r\n        <Button\r\n          type=\"button\"\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          onClick={() => editor.chain().focus().toggleUnderline().run()}\r\n          className={editor.isActive(\"underline\") ? \"bg-slate-200 text-slate-900\" : \"text-slate-500\"}\r\n          title=\"Underline\"\r\n        >\r\n          <UnderlineIcon className=\"w-4 h-4\" />\r\n        </Button>\r\n        \r\n        <div className=\"w-px h-6 bg-slate-300 mx-1\" />\r\n\r\n        <Button\r\n          type=\"button\"\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          onClick={() => editor.chain().focus().toggleBulletList().run()}\r\n          className={editor.isActive(\"bulletList\") ? \"bg-slate-200 text-slate-900\" : \"text-slate-500\"}\r\n          title=\"Bullet List\"\r\n        >\r\n          <List className=\"w-4 h-4\" />\r\n        </Button>\r\n        <Button\r\n          type=\"button\"\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          onClick={() => editor.chain().focus().toggleOrderedList().run()}\r\n          className={editor.isActive(\"orderedList\") ? \"bg-slate-200 text-slate-900\" : \"text-slate-500\"}\r\n          title=\"Ordered List\"\r\n        >\r\n          <ListOrdered className=\"w-4 h-4\" />\r\n        </Button>\r\n\r\n        <div className=\"w-px h-6 bg-slate-300 mx-1\" />\r\n\r\n        <Button\r\n          type=\"button\"\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          onClick={() => editor.chain().focus().toggleBlockquote().run()}\r\n          className={editor.isActive(\"blockquote\") ? \"bg-slate-200 text-slate-900\" : \"text-slate-500\"}\r\n          title=\"Blockquote\"\r\n        >\r\n          <Quote className=\"w-4 h-4\" />\r\n        </Button>\r\n\r\n        <div className=\"flex-1\" />\r\n\r\n        <Button\r\n          type=\"button\"\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          onClick={() => editor.chain().focus().undo().run()}\r\n          disabled={!editor.can().undo()}\r\n          className=\"text-slate-500\"\r\n          title=\"Undo\"\r\n        >\r\n          <Undo className=\"w-4 h-4\" />\r\n        </Button>\r\n        <Button\r\n          type=\"button\"\r\n          variant=\"ghost\"\r\n          size=\"sm\"\r\n          onClick={() => editor.chain().focus().redo().run()}\r\n          disabled={!editor.can().redo()}\r\n          className=\"text-slate-500\"\r\n          title=\"Redo\"\r\n        >\r\n          <Redo className=\"w-4 h-4\" />\r\n        </Button>\r\n      </div>\r\n\r\n      <EditorContent editor={editor} />\r\n    </div>\r\n  );\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\ui\\select.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\ui\\separator.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\ui\\sheet.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\ui\\skeleton.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\ui\\sonner.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\ui\\switch.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\ui\\table.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\ui\\tabs.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\components\\ui\\textarea.tsx","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\context\\AdminContext.tsx","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'createGallery' is defined but never used.","line":7,"column":10,"nodeType":"Identifier","messageId":"unusedVar","endLine":7,"endColumn":23,"suggestions":[{"messageId":"removeUnusedVar","data":{"varName":"createGallery"},"fix":{"range":[380,394],"text":""},"desc":"Remove unused variable \"createGallery\"."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"\"use client\";\r\n\r\nimport React, { createContext, useContext, useState, useEffect } from \"react\";\r\nimport { EventItem, ArticleItem, GalleryItem } from \"@/types\";\r\nimport { createEvent, updateEvent, deleteEvent as deleteEventAction } from \"@/app/actions/events\";\r\nimport { createArticle, updateArticle, deleteArticle as deleteArticleAction } from \"@/app/actions/articles\";\r\nimport { createGallery, deleteGallery as deleteGalleryAction } from \"@/app/actions/gallery\";\r\n\r\ninterface AdminContextType {\r\n  events: EventItem[];\r\n  articles: ArticleItem[];\r\n  galleries: GalleryItem[];\r\n  setEvents: React.Dispatch<React.SetStateAction<EventItem[]>>;\r\n  setArticles: React.Dispatch<React.SetStateAction<ArticleItem[]>>;\r\n  setGalleries: React.Dispatch<React.SetStateAction<GalleryItem[]>>;\r\n  // Helpers\r\n  addEvent: (event: EventItem) => Promise<void>;\r\n  updateEvent: (event: EventItem) => Promise<void>;\r\n  deleteEvent: (id: string) => Promise<void>;\r\n  addArticle: (article: ArticleItem) => Promise<void>;\r\n  updateArticle: (article: ArticleItem) => Promise<void>;\r\n  deleteArticle: (id: string) => Promise<void>;\r\n  updateGallery: (gallery: GalleryItem) => Promise<void>;\r\n  deleteGallery: (id: string) => Promise<void>;\r\n}\r\n\r\nconst AdminContext = createContext<AdminContextType | undefined>(undefined);\r\n\r\nconst EMPTY_EVENTS: EventItem[] = [];\r\nconst EMPTY_ARTICLES: ArticleItem[] = [];\r\nconst EMPTY_GALLERIES: GalleryItem[] = [];\r\n\r\ninterface AdminProviderProps {\r\n  children: React.ReactNode;\r\n  initialEvents?: EventItem[];\r\n  initialArticles?: ArticleItem[];\r\n  initialGalleries?: GalleryItem[];\r\n}\r\n\r\nexport function AdminProvider({\r\n  children,\r\n  initialEvents = EMPTY_EVENTS,\r\n  initialArticles = EMPTY_ARTICLES,\r\n  initialGalleries = EMPTY_GALLERIES\r\n}: AdminProviderProps) {\r\n  // Initialize state with props\r\n  const [events, setEvents] = useState<EventItem[]>(initialEvents);\r\n  const [articlesState, setArticles] = useState<ArticleItem[]>(initialArticles);\r\n  const [galleries, setGalleries] = useState<GalleryItem[]>(initialGalleries);\r\n\r\n  // Sync state with props when they change (revalidation)\r\n  useEffect(() => {\r\n    setEvents(initialEvents);\r\n  }, [initialEvents]);\r\n\r\n  useEffect(() => {\r\n    setArticles(initialArticles);\r\n  }, [initialArticles]);\r\n\r\n  useEffect(() => {\r\n    setGalleries(initialGalleries);\r\n  }, [initialGalleries]);\r\n\r\n  // Helper functions\r\n  const addEvent = async (event: EventItem) => {\r\n    // Optimistic update\r\n    setEvents((prev) => [event, ...prev]);\r\n    try {\r\n      await createEvent(event);\r\n    } catch (error) {\r\n      console.error(\"Failed to add event\", error);\r\n      // Rollback? For now simple optimistic or just rely on revalidate\r\n    }\r\n  };\r\n\r\n  const updateEventFn = async (event: EventItem) => {\r\n    setEvents((prev) => prev.map((e) => (e.id === event.id ? event : e)));\r\n    try {\r\n      await updateEvent(event);\r\n    } catch (error) {\r\n      console.error(\"Failed to update event\", error);\r\n    }\r\n  };\r\n\r\n  const deleteEventFn = async (id: string) => {\r\n    setEvents((prev) => prev.filter((e) => e.id !== id));\r\n    try {\r\n      await deleteEventAction(id);\r\n    } catch (error) {\r\n      console.error(\"Failed to delete event\", error);\r\n    }\r\n  };\r\n\r\n  const addArticle = async (article: ArticleItem) => {\r\n    setArticles((prev) => [article, ...prev]);\r\n    try {\r\n      await createArticle(article);\r\n    } catch (error) {\r\n      console.error(\"Failed to add article\", error);\r\n    }\r\n  };\r\n\r\n  const updateArticleFn = async (article: ArticleItem) => {\r\n    setArticles((prev) => prev.map((a) => (a.id === article.id ? article : a)));\r\n    try {\r\n      await updateArticle(article);\r\n    } catch (error) {\r\n      console.error(\"Failed to update article\", error);\r\n    }\r\n  };\r\n\r\n  const deleteArticleFn = async (id: string) => {\r\n    setArticles((prev) => prev.filter((a) => a.id !== id));\r\n    try {\r\n      await deleteArticleAction(id);\r\n    } catch (error) {\r\n      console.error(\"Failed to delete article\", error);\r\n    }\r\n  };\r\n\r\n  // Gallery actions - assuming we want to use server actions here too\r\n  const updateGallery = async (gallery: GalleryItem) => {\r\n    // Gallery update might not be implemented in server actions yet, \r\n    // but keeping signature. If no action, just state.\r\n    setGalleries((prev) => prev.map((g) => (g.id === gallery.id ? gallery : g)));\r\n  };\r\n\r\n  const deleteGalleryFn = async (id: string) => {\r\n    setGalleries((prev) => prev.filter((g) => g.id !== id));\r\n    try {\r\n      await deleteGalleryAction(id);\r\n    } catch (error) {\r\n      console.error(\"Failed to delete gallery\", error);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <AdminContext.Provider\r\n      value={{\r\n        events,\r\n        articles: articlesState,\r\n        galleries,\r\n        setEvents,\r\n        setArticles,\r\n        setGalleries,\r\n        addEvent,\r\n        updateEvent: updateEventFn,\r\n        deleteEvent: deleteEventFn,\r\n        addArticle,\r\n        updateArticle: updateArticleFn,\r\n        deleteArticle: deleteArticleFn,\r\n        updateGallery,\r\n        deleteGallery: deleteGalleryFn,\r\n      }}\r\n    >\r\n      {children}\r\n    </AdminContext.Provider>\r\n  );\r\n}\r\n\r\nexport function useAdmin() {\r\n  const context = useContext(AdminContext);\r\n  if (context === undefined) {\r\n    throw new Error(\"useAdmin must be used within an AdminProvider\");\r\n  }\r\n  return context;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\data\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\hooks\\useAgendaLogic.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\hooks\\useCountdown.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\hooks\\useCountdownAdmin.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\lib\\motion.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\lib\\supabase\\client.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\lib\\supabase\\middleware.ts","messages":[{"ruleId":"@typescript-eslint/no-unused-vars","severity":1,"message":"'options' is defined but never used.","line":20,"column":48,"nodeType":"Identifier","messageId":"unusedVar","endLine":20,"endColumn":55}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"import { createServerClient } from \"@supabase/ssr\";\r\nimport { NextResponse, type NextRequest } from \"next/server\";\r\n\r\nexport async function updateSession(request: NextRequest) {\r\n  let response = NextResponse.next({\r\n    request: {\r\n      headers: request.headers,\r\n    },\r\n  });\r\n\r\n  const supabase = createServerClient(\r\n    process.env.NEXT_PUBLIC_SUPABASE_URL!,\r\n    process.env.NEXT_PUBLIC_SUPABASE_PUBLISHABLE_DEFAULT_KEY!,\r\n    {\r\n      cookies: {\r\n        getAll() {\r\n          return request.cookies.getAll();\r\n        },\r\n        setAll(cookiesToSet) {\r\n          cookiesToSet.forEach(({ name, value, options }) =>\r\n            request.cookies.set(name, value)\r\n          );\r\n          response = NextResponse.next({\r\n            request,\r\n          });\r\n          cookiesToSet.forEach(({ name, value, options }) =>\r\n            response.cookies.set(name, value, options)\r\n          );\r\n        },\r\n      },\r\n    }\r\n  );\r\n\r\n  const {\r\n    data: { user },\r\n  } = await supabase.auth.getUser();\r\n\r\n  // Protected routes\r\n  if (request.nextUrl.pathname.startsWith(\"/admin\") && !user) {\r\n    return NextResponse.redirect(new URL(\"/auth/login\", request.url));\r\n  }\r\n\r\n  // Auth routes (redirect to admin if already logged in)\r\n  if (request.nextUrl.pathname.startsWith(\"/auth\") && user) {\r\n    return NextResponse.redirect(new URL(\"/admin\", request.url));\r\n  }\r\n\r\n  return response;\r\n}\r\n","usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\lib\\supabase\\server.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\lib\\utils.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\proxy.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]},{"filePath":"C:\\Users\\USER\\Documents\\website-risma\\src\\types\\index.ts","messages":[],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":[]}]